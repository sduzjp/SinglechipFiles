C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE NONGLI
OBJECT MODULE PLACED IN nongli.OBJ
COMPILER INVOKED BY: D:\keil_v4\C51\BIN\C51.EXE nongli.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include "reg51.h"
   2          #include "intrins.h" 
   3          #define uchar unsigned char
   4          #define uint unsigned int
   5          #define ushort unsigned short
   6          #define LCD_data P0
   7          
   8          #define DS1302_SECOND 0x80         //用于计算ds1302RAM地址
   9          #define DS1302_MINUTE 0x82
  10          #define DS1302_HOUR  0x84 
  11          #define DS1302_WEEK  0x8A
  12          #define DS1302_DAY  0x86
  13          #define DS1302_MONTH 0x88
  14          #define DS1302_YEAR  0x8C
  15          
  16          
  17          sbit LCD_EN=P3^3;         //定义LCD12864引脚位
  18          sbit LCD_RW=P3^4;
  19          sbit LCD_RS=P3^5;
  20          sbit CS1=P3^6;
  21          sbit CS2=P3^7;
  22          
  23          sbit  DS1302_CLK = P1^1;            //实时时钟时钟线引脚
  24          sbit  DS1302_IO  = P1^2;            //实时时钟数据线引脚
  25          sbit  DS1302_RST = P1^0;            //实时时钟复位线引脚
  26          sbit  BUZZER_LED=P1^3;
  27          sbit  ACC0 = ACC^0;
  28          sbit  ACC7 = ACC^7;
  29          sbit  DHT11_IO=P1^4;   //定义DHT11数据线
  30          sbit  Beep=P1^5;
  31          //闹钟音谱
  32          uchar code SONG_TONE[]={212,212,190,212,159,169,212,212,190,212,142,159,212,212,106,126,159,169,190,119,11
             -9,126,159,142,159,0};
  33          uchar code SONG_LONG[]={9,3,12,12,12,24,9,3,12,12,12,24,9,3,12,12,12,12,12,9,3,12,12,12,24,0};
  34          
  35          //按键键值表
  36          uchar code KEY_TABLE[]={0x11,0x21,0x41,0x81,0x12,0x22,0x42,0x82,0x14,
  37                                                          0x24,0x44,0x84,0x18,0x28,0x48,0x88};     
  38                                                          //按键值表中前四位与按键所在列有关，后四位与按键所在行有关
  39                                                          //四位二进制数中为1的那一位所在的位置就是按键所在的行或列的位置
  40                                                          //比如按键0x24即0010 0100表示在第二行第一列;
  41                                                          //而0x82即1000 0010表示在第一行第三列
  42           
  43          uchar code Chinese[]={
  44          /*--  文字:  公  --*/
  45          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
  46          0x00,0x80,0x40,0x20,0x18,0x06,0x80,0x00,0x07,0x18,0x20,0x40,0x80,0x00,0x00,0x00,
  47          0x01,0x00,0x20,0x70,0x28,0x26,0x21,0x20,0x20,0x24,0x38,0x60,0x00,0x01,0x01,0x00,
  48          
  49          /*--  文字:  历  --*/
  50          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
  51          0x00,0x00,0xFE,0x02,0x42,0x42,0x42,0x42,0xFA,0x42,0x42,0x42,0x42,0xC2,0x02,0x00,
  52          0x80,0x60,0x1F,0x80,0x40,0x20,0x18,0x06,0x01,0x00,0x40,0x80,0x40,0x3F,0x00,0x00,
  53          
  54          /*--  文字:  星  --*/
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 2   

  55          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
  56          0x00,0x00,0x00,0xBE,0x2A,0x2A,0x2A,0xEA,0x2A,0x2A,0x2A,0x3E,0x00,0x00,0x00,0x00,
  57          0x00,0x44,0x42,0x49,0x49,0x49,0x49,0x7F,0x49,0x49,0x49,0x49,0x41,0x40,0x00,0x00,
  58          
  59          /*--  文字:  期  --*/
  60          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
  61          0x00,0x04,0xFF,0x24,0x24,0x24,0xFF,0x04,0x00,0xFE,0x22,0x22,0x22,0xFE,0x00,0x00,
  62          0x88,0x48,0x2F,0x09,0x09,0x19,0xAF,0x48,0x30,0x0F,0x02,0x42,0x82,0x7F,0x00,0x00,
  63          
  64          /*--  文字:  一  --*/
  65          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
  66          0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,
  67          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  68          
  69          /*--  文字:  二  --*/
  70          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
  71          0x00,0x00,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x00,0x00,0x00,
  72          0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x00,
  73          
  74          /*--  文字:  三  --*/
  75          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
  76          0x00,0x04,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x04,0x00,0x00,
  77          0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x00,
  78          
  79          /*--  文字:  四  --*/
  80          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
  81          0x00,0xFC,0x04,0x04,0x04,0xFC,0x04,0x04,0x04,0xFC,0x04,0x04,0x04,0xFC,0x00,0x00,
  82          0x00,0x7F,0x28,0x24,0x23,0x20,0x20,0x20,0x20,0x21,0x22,0x22,0x22,0x7F,0x00,0x00,
  83          
  84          /*--  文字:  五  --*/
  85          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
  86          0x00,0x02,0x42,0x42,0x42,0xC2,0x7E,0x42,0x42,0x42,0x42,0xC2,0x02,0x02,0x00,0x00,
  87          0x40,0x40,0x40,0x40,0x78,0x47,0x40,0x40,0x40,0x40,0x40,0x7F,0x40,0x40,0x40,0x00,
  88          
  89          /*--  文字:  六  --*/
  90          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
  91          0x20,0x20,0x20,0x20,0x20,0x20,0x21,0x22,0x2C,0x20,0x20,0x20,0x20,0x20,0x20,0x00,
  92          0x00,0x40,0x20,0x10,0x0C,0x03,0x00,0x00,0x00,0x01,0x02,0x04,0x18,0x60,0x00,0x00,
  93          
  94          /*--  文字:  日  --*/
  95          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
  96          0x00,0x00,0x00,0xFE,0x82,0x82,0x82,0x82,0x82,0x82,0x82,0xFE,0x00,0x00,0x00,0x00,
  97          0x00,0x00,0x00,0xFF,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0xFF,0x00,0x00,0x00,0x00,
  98          
  99          /*--  天干              --*/
 100          /*--  文字:  甲  --*/
 101          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 102          0x00,0x00,0xFE,0x22,0x22,0x22,0x22,0xFE,0x22,0x22,0x22,0x22,0xFE,0x00,0x00,0x00,
 103          0x00,0x00,0x07,0x02,0x02,0x02,0x02,0xFF,0x02,0x02,0x02,0x02,0x07,0x00,0x00,0x00,
 104          
 105          /*--  文字:  乙  --*/
 106          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 107          0x00,0x02,0x02,0x02,0x02,0x82,0x42,0x22,0x12,0x0A,0x06,0x02,0x00,0x00,0x00,0x00,
 108          0x00,0x00,0x38,0x46,0x41,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x78,0x00,0x00,
 109          
 110          /*--  文字:  丙  --*/
 111          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 112          0x02,0xE2,0x22,0x22,0x22,0x22,0x22,0xFE,0x22,0x22,0x22,0x22,0x22,0xE2,0x02,0x00,
 113          0x00,0xFF,0x00,0x00,0x08,0x04,0x03,0x00,0x01,0x02,0x0C,0x40,0x80,0x7F,0x00,0x00,
 114          
 115          /*--  文字:  丁  --*/
 116          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 3   

 117          0x00,0x02,0x02,0x02,0x02,0x02,0x02,0xFE,0x02,0x02,0x02,0x02,0x02,0x02,0x00,0x00,
 118          0x00,0x00,0x00,0x00,0x00,0x40,0x80,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 119          
 120          /*--  文字:  戊  --*/
 121          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 122          0x00,0x00,0xF8,0x08,0x08,0x08,0x08,0x08,0x7F,0x88,0x08,0x09,0x0A,0xC8,0x08,0x00,
 123          0x80,0x60,0x1F,0x00,0x80,0x80,0x40,0x40,0x20,0x13,0x0C,0x14,0x23,0x40,0xF8,0x00,
 124          
 125          /*--  文字:  己  --*/
 126          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 127          0x00,0x00,0x82,0x82,0x82,0x82,0x82,0x82,0x82,0x82,0x82,0xFE,0x00,0x00,0x00,0x00,
 128          0x00,0x00,0x3F,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x78,0x00,0x00,
 129          
 130          /*--  文字:  庚  --*/
 131          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 132          0x00,0x00,0xFC,0x04,0x24,0x24,0x24,0x25,0xF6,0x24,0x24,0x24,0xE4,0x04,0x04,0x00,
 133          0x40,0x30,0x8F,0x81,0x49,0x49,0x29,0x19,0x0F,0x19,0x29,0x49,0x4F,0x81,0x81,0x00,
 134          
 135          /*--  文字:  辛  --*/
 136          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 137          0x40,0x40,0x44,0x44,0x54,0x64,0x45,0xC6,0x44,0x64,0x54,0x44,0x44,0x40,0x40,0x00,
 138          0x00,0x04,0x04,0x04,0x04,0x04,0x04,0xFF,0x04,0x04,0x04,0x04,0x04,0x04,0x00,0x00,
 139          
 140          /*--  文字:  壬  --*/
 141          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 142          0x80,0x80,0x84,0x84,0x84,0x84,0x84,0xFC,0x82,0x82,0x82,0x83,0x82,0x80,0x80,0x00,
 143          0x00,0x00,0x40,0x40,0x40,0x40,0x40,0x7F,0x40,0x40,0x40,0x40,0x40,0x00,0x00,0x00,
 144          
 145          /*--  文字:  癸  --*/
 146          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 147          0x80,0x8A,0x52,0x22,0x92,0x8A,0x86,0x80,0x83,0x8C,0x92,0x31,0x48,0x84,0x80,0x00,
 148          0x00,0x84,0x84,0x44,0x44,0x24,0x14,0x0F,0x14,0x14,0x24,0x44,0x84,0x04,0x00,0x00,
 149          
 150          /*--    地支    --*/
 151          /*--  文字:  子  --*/
 152          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 153          0x80,0x82,0x82,0x82,0x82,0x82,0x82,0xE2,0xA2,0x92,0x8A,0x86,0x82,0x80,0x80,0x00,
 154          0x00,0x00,0x00,0x00,0x00,0x40,0x80,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 155          
 156          /*--  文字:  丑  --*/
 157          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 158          0x00,0x00,0x82,0x82,0x82,0x82,0xFE,0x82,0x82,0x82,0x82,0xFE,0x00,0x00,0x00,0x00,
 159          0x40,0x40,0x40,0x40,0x40,0x7F,0x40,0x40,0x40,0x40,0x40,0x7F,0x40,0x40,0x40,0x00,
 160          
 161          /*--  文字:  寅  --*/
 162          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 163          0x10,0x0C,0x04,0xD4,0x54,0x54,0x55,0xF6,0x54,0x54,0x54,0xD4,0x04,0x14,0x0C,0x00,
 164          0x00,0x00,0x00,0x9F,0x52,0x32,0x12,0x1F,0x12,0x32,0x52,0x9F,0x00,0x00,0x00,0x00,
 165          
 166          /*--  文字:  卯  --*/
 167          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 168          0x00,0xFE,0x02,0x02,0x01,0xFD,0x00,0x00,0xFE,0x02,0x02,0x02,0x02,0xFE,0x00,0x00,
 169          0x00,0x07,0x84,0x44,0x32,0x0F,0x00,0x00,0xFF,0x00,0x04,0x08,0x04,0x03,0x00,0x00,
 170          
 171          /*--  文字:  辰  --*/
 172          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 173          0x00,0x00,0xFE,0x82,0x92,0x92,0x92,0x92,0x92,0x92,0x92,0x92,0x92,0x82,0x00,0x00,
 174          0x40,0x30,0x0F,0x00,0x00,0xFF,0x40,0x20,0x03,0x04,0x08,0x14,0x22,0x40,0x40,0x00,
 175          
 176          /*--  文字:  巳  --*/
 177          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 178          0x00,0x00,0xFE,0x82,0x82,0x82,0x82,0x82,0x82,0x82,0x82,0xFE,0x00,0x00,0x00,0x00,
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 4   

 179          0x00,0x00,0x3F,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x78,0x00,0x00,
 180          
 181          /*--  文字:  午  --*/
 182          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 183          0x00,0x40,0x20,0x18,0x0F,0x08,0x08,0xF8,0x08,0x08,0x08,0x08,0x08,0x00,0x00,0x00,
 184          0x02,0x02,0x02,0x02,0x02,0x02,0x02,0xFF,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x00,
 185          
 186          /*--  文字:  未  --*/
 187          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 188          0x80,0x80,0x88,0x88,0x88,0x88,0x88,0xFF,0x88,0x88,0x88,0x88,0x88,0x80,0x80,0x00,
 189          0x20,0x20,0x10,0x08,0x04,0x02,0x01,0xFF,0x01,0x02,0x04,0x08,0x10,0x20,0x20,0x00,
 190          
 191          /*--  文字:  申  --*/
 192          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 193          0x00,0x00,0xF8,0x88,0x88,0x88,0x88,0xFF,0x88,0x88,0x88,0x88,0xF8,0x00,0x00,0x00,
 194          0x00,0x00,0x1F,0x08,0x08,0x08,0x08,0xFF,0x08,0x08,0x08,0x08,0x1F,0x00,0x00,0x00,
 195          
 196          /*--  文字:  酉  --*/
 197          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 198          0x02,0xF2,0x12,0x12,0x92,0x7E,0x12,0x12,0x12,0xFE,0x12,0x12,0x12,0xF2,0x02,0x00,
 199          0x00,0xFF,0x4A,0x49,0x48,0x48,0x48,0x48,0x48,0x48,0x49,0x49,0x49,0xFF,0x00,0x00,
 200          
 201          /*--  文字:  戌  --*/
 202          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 203          0x00,0x00,0xF8,0x08,0x08,0x08,0x08,0x08,0x08,0xFF,0x08,0x09,0x0A,0xC8,0x08,0x00,
 204          0x80,0x60,0x1F,0x01,0x01,0x01,0x01,0x80,0x40,0x21,0x16,0x18,0x26,0x41,0xF8,0x00,
 205          
 206          /*--  文字:  亥  --*/
 207          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 208          0x00,0x08,0x08,0x88,0x48,0x28,0x19,0x0A,0x08,0x88,0x48,0x08,0x08,0x08,0x00,0x00,
 209          0x00,0x90,0x91,0x89,0x49,0x45,0x25,0x23,0x11,0x08,0x14,0x22,0x41,0x80,0x00,0x00,
 210          
 211          /*--  文字:  年  --*/
 212          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 213          0x00,0x20,0x18,0xC7,0x44,0x44,0x44,0x44,0xFC,0x44,0x44,0x44,0x44,0x04,0x00,0x00,
 214          0x04,0x04,0x04,0x07,0x04,0x04,0x04,0x04,0xFF,0x04,0x04,0x04,0x04,0x04,0x04,0x00,
 215          
 216          /*--  文字:  月  --*/
 217          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 218          0x00,0x00,0x00,0xFE,0x22,0x22,0x22,0x22,0x22,0x22,0x22,0x22,0xFE,0x00,0x00,0x00,
 219          0x80,0x40,0x30,0x0F,0x02,0x02,0x02,0x02,0x02,0x02,0x42,0x82,0x7F,0x00,0x00,0x00,
 220          
 221          /*--  文字:  闰  --*/
 222          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 223          0x00,0xF8,0x01,0x26,0x20,0x20,0x22,0xE2,0x22,0x22,0x22,0x22,0x02,0xFE,0x00,0x00,
 224          0x00,0xFF,0x00,0x10,0x11,0x11,0x11,0x1F,0x11,0x11,0x11,0x50,0x80,0x7F,0x00,0x00,
 225          
 226          /*--  文字:  正  --*/
 227          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 228          0x00,0x02,0x02,0xC2,0x02,0x02,0x02,0xFE,0x82,0x82,0x82,0x82,0x82,0x02,0x00,0x00,
 229          0x40,0x40,0x40,0x7F,0x40,0x40,0x40,0x7F,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x00,
 230          
 231          /*--  文字:  初  --*/
 232          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 233          0x08,0x08,0x89,0xEA,0x18,0x88,0x00,0x04,0x04,0xFC,0x04,0x04,0x04,0xFC,0x00,0x00,
 234          0x02,0x01,0x00,0xFF,0x01,0x86,0x40,0x20,0x18,0x07,0x40,0x80,0x40,0x3F,0x00,0x00,
 235          
 236          /*--  文字:  廿  --*/
 237          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 238          0x20,0x20,0x20,0x20,0xFF,0x20,0x20,0x20,0x20,0x20,0x20,0xFF,0x20,0x20,0x20,0x00,
 239          0x00,0x00,0x00,0x00,0xFF,0x40,0x40,0x40,0x40,0x40,0x40,0xFF,0x00,0x00,0x00,0x00,
 240          
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 5   

 241          /*--  文字:  一  --*/
 242          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 243          0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,
 244          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 245          
 246          /*--  文字:  二  --*/
 247          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 248          0x00,0x00,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x00,0x00,0x00,
 249          0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x00,
 250          
 251          /*--  文字:  三  --*/
 252          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 253          0x00,0x04,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x04,0x00,0x00,
 254          0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x00,
 255          
 256          /*--  文字:  四  --*/
 257          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 258          0x00,0xFC,0x04,0x04,0x04,0xFC,0x04,0x04,0x04,0xFC,0x04,0x04,0x04,0xFC,0x00,0x00,
 259          0x00,0x7F,0x28,0x24,0x23,0x20,0x20,0x20,0x20,0x21,0x22,0x22,0x22,0x7F,0x00,0x00,
 260          
 261          /*--  文字:  五  --*/
 262          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 263          0x00,0x02,0x42,0x42,0x42,0xC2,0x7E,0x42,0x42,0x42,0x42,0xC2,0x02,0x02,0x00,0x00,
 264          0x40,0x40,0x40,0x40,0x78,0x47,0x40,0x40,0x40,0x40,0x40,0x7F,0x40,0x40,0x40,0x00,
 265          
 266          /*--  文字:  六  --*/
 267          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 268          0x20,0x20,0x20,0x20,0x20,0x20,0x21,0x22,0x2C,0x20,0x20,0x20,0x20,0x20,0x20,0x00,
 269          0x00,0x40,0x20,0x10,0x0C,0x03,0x00,0x00,0x00,0x01,0x02,0x04,0x18,0x60,0x00,0x00,
 270          
 271          /*--  文字:  七  --*/
 272          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 273          0x80,0x80,0x80,0x80,0x80,0x40,0xFF,0x40,0x40,0x40,0x20,0x20,0x20,0x20,0x00,0x00,
 274          0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x40,0x40,0x40,0x40,0x40,0x40,0x78,0x00,0x00,
 275          
 276          /*--  文字:  八  --*/
 277          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 278          0x00,0x00,0x00,0x00,0x00,0xFC,0x00,0x00,0x00,0x7E,0x80,0x00,0x00,0x00,0x00,0x00,
 279          0x00,0x80,0x60,0x18,0x07,0x00,0x00,0x00,0x00,0x00,0x03,0x0C,0x30,0x40,0x80,0x00,
 280          
 281          /*--  文字:  九  --*/
 282          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 283          0x00,0x10,0x10,0x10,0x10,0xFF,0x10,0x10,0x10,0x10,0xF0,0x00,0x00,0x00,0x00,0x00,
 284          0x80,0x40,0x20,0x18,0x07,0x00,0x00,0x00,0x00,0x00,0x3F,0x40,0x40,0x40,0x78,0x00,
 285          
 286          /*--  文字:  十  --*/
 287          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 288          0x40,0x40,0x40,0x40,0x40,0x40,0x40,0xFF,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x00,
 289          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 290          
 291          /*--  文字:  冬  --*/
 292          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 293          0x00,0x20,0x10,0x08,0x94,0xA7,0x44,0x44,0x44,0xA4,0x94,0x0C,0x00,0x00,0x00,0x00,
 294          0x02,0x02,0x01,0x01,0x20,0x24,0x24,0x44,0x48,0x88,0x10,0x01,0x01,0x02,0x02,0x00,
 295          
 296          /*--  文字:  腊  --*/
 297          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 298          0x00,0xFE,0x22,0x22,0xFE,0x40,0x48,0x48,0x7F,0x48,0x48,0x48,0x7F,0x48,0x48,0x00,
 299          0x80,0x7F,0x02,0x82,0xFF,0x00,0x00,0xFF,0x49,0x49,0x49,0x49,0x49,0xFF,0x00,0x00,
 300          
 301          /*--  文字:  输  --*/
 302          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 6   

 303          0x88,0x68,0x1F,0xC8,0x08,0x10,0xC8,0x54,0x52,0xD1,0x12,0x94,0x08,0xD0,0x10,0x00,
 304          0x09,0x19,0x09,0xFF,0x05,0x00,0xFF,0x12,0x92,0xFF,0x00,0x5F,0x80,0x7F,0x00,0x00,
 305          
 306          /*--  文字:  入  --*/
 307          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 308          0x00,0x00,0x00,0x00,0x00,0x01,0xE2,0x1C,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 309          0x80,0x40,0x20,0x10,0x0C,0x03,0x00,0x00,0x00,0x03,0x0C,0x30,0x40,0x80,0x80,0x00,
 310          
 311          /*--  文字:  日  --*/
 312          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 313          0x00,0x00,0x00,0xFE,0x82,0x82,0x82,0x82,0x82,0x82,0x82,0xFE,0x00,0x00,0x00,0x00,
 314          0x00,0x00,0x00,0xFF,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0xFF,0x00,0x00,0x00,0x00,
 315          
 316          /*--  文字:  期  --*/
 317          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 318          0x00,0x04,0xFF,0x24,0x24,0x24,0xFF,0x04,0x00,0xFE,0x22,0x22,0x22,0xFE,0x00,0x00,
 319          0x88,0x48,0x2F,0x09,0x09,0x19,0xAF,0x48,0x30,0x0F,0x02,0x42,0x82,0x7F,0x00,0x00,
 320          
 321          /*--  文字:  时  --*/
 322          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 323          0x00,0xFC,0x84,0x84,0x84,0xFC,0x00,0x10,0x10,0x10,0x10,0x10,0xFF,0x10,0x10,0x00,
 324          0x00,0x3F,0x10,0x10,0x10,0x3F,0x00,0x00,0x01,0x06,0x40,0x80,0x7F,0x00,0x00,0x00,
 325          
 326          /*--  文字:  间  --*/
 327          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 328          0x00,0xF8,0x01,0x06,0x00,0xF0,0x12,0x12,0x12,0xF2,0x02,0x02,0x02,0xFE,0x00,0x00,
 329          0x00,0xFF,0x00,0x00,0x00,0x1F,0x11,0x11,0x11,0x1F,0x00,0x40,0x80,0x7F,0x00,0x00,
 330          
 331          /*--  文字:  设  --*/
 332          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 333          0x40,0x40,0x42,0xCC,0x00,0x40,0xA0,0x9E,0x82,0x82,0x82,0x9E,0xA0,0x20,0x20,0x00,
 334          0x00,0x00,0x00,0x3F,0x90,0x88,0x40,0x43,0x2C,0x10,0x28,0x46,0x41,0x80,0x80,0x00,
 335          
 336          /*--  文字:  置  --*/
 337          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 338          0x00,0x17,0x15,0xD5,0x55,0x57,0x55,0x7D,0x55,0x57,0x55,0xD5,0x15,0x17,0x00,0x00,
 339          0x40,0x40,0x40,0x7F,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x7F,0x40,0x40,0x40,0x00,
 340          
 341          /*--  文字:  闹  --*/
 342          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 343          0x00,0xF8,0x01,0x22,0x20,0x22,0x2A,0xF2,0x22,0x22,0x22,0x22,0x02,0xFE,0x00,0x00,
 344          0x00,0xFF,0x00,0x00,0x1F,0x01,0x01,0x7F,0x09,0x11,0x0F,0x40,0x80,0x7F,0x00,0x00,
 345          
 346          /*--  文字:  钟  --*/
 347          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 348          0x20,0x10,0x2C,0xE7,0x24,0x24,0x00,0xF0,0x10,0x10,0xFF,0x10,0x10,0xF0,0x00,0x00,
 349          0x01,0x01,0x01,0x7F,0x21,0x11,0x00,0x07,0x02,0x02,0xFF,0x02,0x02,0x07,0x00,0x00,
 350          };
 351          
 352          
 353          uchar code SolarTerms[]={
 354          /*--  文字:  小  --*/
 355          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 356          0x00,0x00,0x00,0xE0,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x20,0x40,0x80,0x00,0x00,
 357          0x08,0x04,0x03,0x00,0x00,0x40,0x80,0x7F,0x00,0x00,0x00,0x00,0x00,0x01,0x0E,0x00,
 358          
 359          /*--  文字:  寒  --*/
 360          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 361          0x10,0x0C,0x44,0x54,0x54,0xFC,0x55,0x56,0x54,0xFC,0x54,0x54,0x44,0x14,0x0C,0x00,
 362          0x11,0x11,0x09,0x05,0x03,0x21,0x25,0x45,0x49,0x91,0x03,0x05,0x09,0x11,0x11,0x00,
 363          
 364          /*--  文字:  大  --*/
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 7   

 365          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 366          0x20,0x20,0x20,0x20,0x20,0x20,0x20,0xFF,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x00,
 367          0x80,0x80,0x40,0x20,0x10,0x0C,0x03,0x00,0x03,0x0C,0x10,0x20,0x40,0x80,0x80,0x00,
 368          
 369          /*--  文字:  寒  --*/
 370          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 371          0x10,0x0C,0x44,0x54,0x54,0xFC,0x55,0x56,0x54,0xFC,0x54,0x54,0x44,0x14,0x0C,0x00,
 372          0x11,0x11,0x09,0x05,0x03,0x21,0x25,0x45,0x49,0x91,0x03,0x05,0x09,0x11,0x11,0x00,
 373          
 374          /*--  文字:  立  --*/
 375          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 376          0x00,0x10,0x10,0x90,0x10,0x10,0x11,0x16,0x10,0x10,0x10,0xD0,0x10,0x10,0x00,0x00,
 377          0x40,0x40,0x40,0x40,0x43,0x5C,0x40,0x40,0x50,0x4C,0x43,0x40,0x40,0x40,0x40,0x00,
 378          
 379          /*--  文字:  春  --*/
 380          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 381          0x40,0x44,0x54,0x54,0xD4,0x54,0x74,0x5F,0x54,0x54,0xD4,0x54,0x54,0x44,0x40,0x00,
 382          0x04,0x04,0x02,0x01,0xFE,0x92,0x92,0x92,0x92,0x92,0xFE,0x01,0x02,0x04,0x04,0x00,
 383          
 384          /*--  文字:  雨  --*/
 385          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 386          0x02,0xE2,0x22,0x22,0x22,0x22,0x22,0xFE,0x22,0x22,0x22,0x22,0x22,0xE2,0x02,0x00,
 387          0x00,0xFF,0x00,0x00,0x09,0x12,0x00,0x7F,0x00,0x09,0x12,0x40,0x80,0x7F,0x00,0x00,
 388          
 389          /*--  文字:  水  --*/
 390          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 391          0x00,0x20,0x20,0x20,0xA0,0x60,0x00,0xFF,0x60,0x80,0x40,0x20,0x18,0x00,0x00,0x00,
 392          0x20,0x10,0x08,0x06,0x01,0x40,0x80,0x7F,0x00,0x01,0x02,0x04,0x08,0x10,0x10,0x00,
 393          
 394          /*--  文字:  惊  --*/
 395          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 396          0x00,0xE0,0x00,0xFF,0x10,0x20,0x04,0xE4,0x24,0x25,0x26,0x24,0x24,0xE4,0x04,0x00,
 397          0x01,0x00,0x00,0xFF,0x00,0x20,0x10,0x0D,0x41,0x81,0x7F,0x01,0x05,0x09,0x30,0x00,
 398          
 399          /*--  文字:  蛰  --*/
 400          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 401          0x24,0xA4,0x24,0xFF,0x14,0x00,0x84,0x54,0x3F,0x44,0x04,0x7C,0x80,0xE0,0x00,0x00,
 402          0x00,0x40,0xC1,0x5E,0x52,0x53,0x52,0x7F,0x52,0x52,0x52,0x5E,0x60,0xC1,0x00,0x00,
 403          
 404          /*--  文字:  春  --*/
 405          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 406          0x40,0x44,0x54,0x54,0xD4,0x54,0x74,0x5F,0x54,0x54,0xD4,0x54,0x54,0x44,0x40,0x00,
 407          0x04,0x04,0x02,0x01,0xFE,0x92,0x92,0x92,0x92,0x92,0xFE,0x01,0x02,0x04,0x04,0x00,
 408          
 409          /*--  文字:  分  --*/
 410          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 411          0x80,0x40,0x20,0x90,0x88,0x86,0x80,0x80,0x80,0x83,0x8C,0x10,0x20,0x40,0x80,0x00,
 412          0x00,0x80,0x40,0x20,0x18,0x07,0x00,0x40,0x80,0x40,0x3F,0x00,0x00,0x00,0x00,0x00,
 413          
 414          /*--  文字:  清  --*/
 415          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 416          0x10,0x60,0x02,0x8C,0x00,0x44,0x54,0x54,0x54,0x7F,0x54,0x54,0x54,0x44,0x40,0x00,
 417          0x04,0x04,0x7E,0x01,0x00,0x00,0xFF,0x15,0x15,0x15,0x55,0x95,0x7F,0x00,0x00,0x00,
 418          
 419          /*--  文字:  明  --*/
 420          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 421          0x00,0xFC,0x44,0x44,0x44,0xFC,0x00,0x00,0xFE,0x22,0x22,0x22,0x22,0xFE,0x00,0x00,
 422          0x00,0x0F,0x04,0x04,0x04,0x8F,0x40,0x30,0x0F,0x02,0x02,0x42,0x82,0x7F,0x00,0x00,
 423          
 424          /*--  文字:  谷  --*/
 425          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 426          0x00,0x10,0x88,0x84,0x43,0x20,0x10,0x0C,0x10,0x20,0x41,0x82,0x84,0x08,0x00,0x00,
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 8   

 427          0x01,0x01,0x00,0xFE,0x42,0x42,0x42,0x42,0x42,0x42,0x42,0xFE,0x00,0x01,0x01,0x00,
 428          
 429          /*--  文字:  雨  --*/
 430          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 431          0x02,0xE2,0x22,0x22,0x22,0x22,0x22,0xFE,0x22,0x22,0x22,0x22,0x22,0xE2,0x02,0x00,
 432          0x00,0xFF,0x00,0x00,0x09,0x12,0x00,0x7F,0x00,0x09,0x12,0x40,0x80,0x7F,0x00,0x00,
 433          
 434          /*--  文字:  立  --*/
 435          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 436          0x00,0x10,0x10,0x90,0x10,0x10,0x11,0x16,0x10,0x10,0x10,0xD0,0x10,0x10,0x00,0x00,
 437          0x40,0x40,0x40,0x40,0x43,0x5C,0x40,0x40,0x50,0x4C,0x43,0x40,0x40,0x40,0x40,0x00,
 438          
 439          /*--  文字:  夏  --*/
 440          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 441          0x00,0x01,0x01,0xFD,0x55,0x55,0x57,0x55,0x55,0x55,0x55,0xFD,0x01,0x01,0x00,0x00,
 442          0x80,0x90,0x88,0x45,0x4F,0x55,0x25,0x25,0x25,0x55,0x4D,0x45,0x80,0x80,0x80,0x00,
 443          
 444          /*--  文字:  小  --*/
 445          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 446          0x00,0x00,0x00,0xE0,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x20,0x40,0x80,0x00,0x00,
 447          0x08,0x04,0x03,0x00,0x00,0x40,0x80,0x7F,0x00,0x00,0x00,0x00,0x00,0x01,0x0E,0x00,
 448          
 449          /*--  文字:  满  --*/
 450          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 451          0x10,0x60,0x02,0x8C,0x00,0x24,0x24,0x2F,0xE4,0x24,0x24,0xE4,0x2F,0x24,0x24,0x00,
 452          0x04,0x04,0x7E,0x01,0x00,0xFF,0x11,0x09,0x07,0x19,0x09,0x07,0x49,0x91,0x7F,0x00,
 453          
 454          /*--  文字:  芒  --*/
 455          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 456          0x84,0x84,0x84,0x84,0x9F,0x84,0xA4,0xC4,0x84,0x84,0x9F,0x84,0x84,0x84,0x84,0x00,
 457          0x00,0x00,0x00,0x00,0x7F,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x00,0x00,
 458          
 459          /*--  文字:  种  --*/
 460          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 461          0x24,0x24,0xA4,0xFE,0x23,0x22,0x00,0xF0,0x10,0x10,0xFF,0x10,0x10,0xF0,0x00,0x00,
 462          0x08,0x06,0x01,0xFF,0x01,0x06,0x00,0x07,0x02,0x02,0xFF,0x02,0x02,0x07,0x00,0x00,
 463          
 464          /*--  文字:  夏  --*/
 465          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 466          0x00,0x01,0x01,0xFD,0x55,0x55,0x57,0x55,0x55,0x55,0x55,0xFD,0x01,0x01,0x00,0x00,
 467          0x80,0x90,0x88,0x45,0x4F,0x55,0x25,0x25,0x25,0x55,0x4D,0x45,0x80,0x80,0x80,0x00,
 468          
 469          /*--  文字:  至  --*/
 470          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 471          0x00,0x02,0x42,0x62,0x52,0x4A,0x46,0x42,0x42,0x42,0x52,0x62,0xC2,0x02,0x00,0x00,
 472          0x40,0x40,0x44,0x44,0x44,0x44,0x44,0x7F,0x44,0x44,0x44,0x44,0x44,0x40,0x40,0x00,
 473          
 474          /*--  文字:  小  --*/
 475          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 476          0x00,0x00,0x00,0xE0,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x20,0x40,0x80,0x00,0x00,
 477          0x08,0x04,0x03,0x00,0x00,0x40,0x80,0x7F,0x00,0x00,0x00,0x00,0x00,0x01,0x0E,0x00,
 478          
 479          /*--  文字:  暑  --*/
 480          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 481          0x00,0x00,0x00,0x5F,0x55,0x55,0xF5,0x55,0x55,0x55,0x95,0x5F,0x00,0x00,0x00,0x00,
 482          0x11,0x11,0x09,0x09,0xFD,0x55,0x57,0x57,0x55,0x55,0x55,0xFD,0x01,0x01,0x01,0x00,
 483          
 484          /*--  文字:  大  --*/
 485          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 486          0x20,0x20,0x20,0x20,0x20,0x20,0x20,0xFF,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x00,
 487          0x80,0x80,0x40,0x20,0x10,0x0C,0x03,0x00,0x03,0x0C,0x10,0x20,0x40,0x80,0x80,0x00,
 488          
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 9   

 489          /*--  文字:  暑  --*/
 490          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 491          0x00,0x00,0x00,0x5F,0x55,0x55,0xF5,0x55,0x55,0x55,0x95,0x5F,0x00,0x00,0x00,0x00,
 492          0x11,0x11,0x09,0x09,0xFD,0x55,0x57,0x57,0x55,0x55,0x55,0xFD,0x01,0x01,0x01,0x00,
 493          
 494          /*--  文字:  立  --*/
 495          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 496          0x00,0x10,0x10,0x90,0x10,0x10,0x11,0x16,0x10,0x10,0x10,0xD0,0x10,0x10,0x00,0x00,
 497          0x40,0x40,0x40,0x40,0x43,0x5C,0x40,0x40,0x50,0x4C,0x43,0x40,0x40,0x40,0x40,0x00,
 498          
 499          /*--  文字:  秋  --*/
 500          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 501          0x24,0x24,0xA4,0xFE,0x23,0x22,0x80,0x70,0x00,0xFF,0x00,0x80,0x40,0x30,0x00,0x00,
 502          0x08,0x06,0x01,0xFF,0x01,0x86,0x40,0x30,0x0E,0x01,0x06,0x18,0x20,0x40,0x80,0x00,
 503          
 504          /*--  文字:  处  --*/
 505          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 506          0x00,0x80,0x60,0x9F,0x08,0x08,0xF8,0x00,0x00,0xFF,0x10,0x20,0x40,0x80,0x00,0x00,
 507          0x81,0x40,0x20,0x13,0x0C,0x13,0x20,0x20,0x40,0x5F,0x40,0x40,0x40,0x41,0x40,0x00,
 508          
 509          /*--  文字:  暑  --*/
 510          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 511          0x00,0x00,0x00,0x5F,0x55,0x55,0xF5,0x55,0x55,0x55,0x95,0x5F,0x00,0x00,0x00,0x00,
 512          0x11,0x11,0x09,0x09,0xFD,0x55,0x57,0x57,0x55,0x55,0x55,0xFD,0x01,0x01,0x01,0x00,
 513          
 514          /*--  文字:  白  --*/
 515          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 516          0x00,0x00,0xF8,0x08,0x08,0x0C,0x0A,0x09,0x08,0x08,0x08,0x08,0xF8,0x00,0x00,0x00,
 517          0x00,0x00,0xFF,0x41,0x41,0x41,0x41,0x41,0x41,0x41,0x41,0x41,0xFF,0x00,0x00,0x00,
 518          
 519          /*--  文字:  露  --*/
 520          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 521          0x10,0x0C,0x05,0x55,0x55,0x55,0x05,0x7F,0x05,0xD5,0x55,0x55,0x05,0x14,0x0C,0x00,
 522          0x80,0xF7,0x85,0x7D,0x55,0x57,0x00,0x0A,0xE9,0xAB,0xA5,0xA5,0xEB,0x08,0x08,0x00,
 523          
 524          /*--  文字:  秋  --*/
 525          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 526          0x24,0x24,0xA4,0xFE,0x23,0x22,0x80,0x70,0x00,0xFF,0x00,0x80,0x40,0x30,0x00,0x00,
 527          0x08,0x06,0x01,0xFF,0x01,0x86,0x40,0x30,0x0E,0x01,0x06,0x18,0x20,0x40,0x80,0x00,
 528          
 529          /*--  文字:  分  --*/
 530          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 531          0x80,0x40,0x20,0x90,0x88,0x86,0x80,0x80,0x80,0x83,0x8C,0x10,0x20,0x40,0x80,0x00,
 532          0x00,0x80,0x40,0x20,0x18,0x07,0x00,0x40,0x80,0x40,0x3F,0x00,0x00,0x00,0x00,0x00,
 533          
 534          /*--  文字:  寒  --*/
 535          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 536          0x10,0x0C,0x44,0x54,0x54,0xFC,0x55,0x56,0x54,0xFC,0x54,0x54,0x44,0x14,0x0C,0x00,
 537          0x11,0x11,0x09,0x05,0x03,0x21,0x25,0x45,0x49,0x91,0x03,0x05,0x09,0x11,0x11,0x00,
 538          
 539          /*--  文字:  露  --*/
 540          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 541          0x10,0x0C,0x05,0x55,0x55,0x55,0x05,0x7F,0x05,0xD5,0x55,0x55,0x05,0x14,0x0C,0x00,
 542          0x80,0xF7,0x85,0x7D,0x55,0x57,0x00,0x0A,0xE9,0xAB,0xA5,0xA5,0xEB,0x08,0x08,0x00,
 543          
 544          /*--  文字:  霜  --*/
 545          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 546          0x10,0x0C,0x05,0x55,0x55,0x55,0x05,0x7F,0x05,0x55,0x55,0x55,0x05,0x14,0x0C,0x00,
 547          0x20,0x12,0x0A,0x06,0xFF,0x0A,0x12,0x00,0xFF,0x55,0x55,0x55,0x55,0xFF,0x00,0x00,
 548          
 549          /*--  文字:  降  --*/
 550          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 10  

 551          0x00,0xFE,0x02,0x22,0xDA,0x86,0x90,0x48,0x57,0x24,0xA4,0x54,0x4C,0x84,0x80,0x00,
 552          0x00,0xFF,0x08,0x10,0x08,0x07,0x18,0x12,0x12,0x12,0xFF,0x12,0x12,0x12,0x10,0x00,
 553          
 554          /*--  文字:  立  --*/
 555          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 556          0x00,0x10,0x10,0x90,0x10,0x10,0x11,0x16,0x10,0x10,0x10,0xD0,0x10,0x10,0x00,0x00,
 557          0x40,0x40,0x40,0x40,0x43,0x5C,0x40,0x40,0x50,0x4C,0x43,0x40,0x40,0x40,0x40,0x00,
 558          
 559          /*--  文字:  冬  --*/
 560          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 561          0x00,0x20,0x10,0x08,0x94,0xA7,0x44,0x44,0x44,0xA4,0x94,0x0C,0x00,0x00,0x00,0x00,
 562          0x02,0x02,0x01,0x01,0x20,0x24,0x24,0x44,0x48,0x88,0x10,0x01,0x01,0x02,0x02,0x00,
 563          
 564          /*--  文字:  小  --*/
 565          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 566          0x00,0x00,0x00,0xE0,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x20,0x40,0x80,0x00,0x00,
 567          0x08,0x04,0x03,0x00,0x00,0x40,0x80,0x7F,0x00,0x00,0x00,0x00,0x00,0x01,0x0E,0x00,
 568          
 569          /*--  文字:  雪  --*/
 570          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 571          0x10,0x0C,0x05,0x55,0x55,0x55,0x05,0x7F,0x05,0x55,0x55,0x55,0x05,0x14,0x0C,0x00,
 572          0x00,0x00,0x41,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0xFF,0x00,0x00,0x00,
 573          
 574          /*--  文字:  大  --*/
 575          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 576          0x20,0x20,0x20,0x20,0x20,0x20,0x20,0xFF,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x00,
 577          0x80,0x80,0x40,0x20,0x10,0x0C,0x03,0x00,0x03,0x0C,0x10,0x20,0x40,0x80,0x80,0x00,
 578          
 579          /*--  文字:  雪  --*/
 580          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 581          0x10,0x0C,0x05,0x55,0x55,0x55,0x05,0x7F,0x05,0x55,0x55,0x55,0x05,0x14,0x0C,0x00,
 582          0x00,0x00,0x41,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0xFF,0x00,0x00,0x00,
 583          
 584          /*--  文字:  冬  --*/
 585          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 586          0x00,0x20,0x10,0x08,0x94,0xA7,0x44,0x44,0x44,0xA4,0x94,0x0C,0x00,0x00,0x00,0x00,
 587          0x02,0x02,0x01,0x01,0x20,0x24,0x24,0x44,0x48,0x88,0x10,0x01,0x01,0x02,0x02,0x00,
 588          
 589          /*--  文字:  至  --*/
 590          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 591          0x00,0x02,0x42,0x62,0x52,0x4A,0x46,0x42,0x42,0x42,0x52,0x62,0xC2,0x02,0x00,0x00,
 592          0x40,0x40,0x44,0x44,0x44,0x44,0x44,0x7F,0x44,0x44,0x44,0x44,0x44,0x40,0x40,0x00,
 593          };
 594          
 595          
 596          uchar code Symbol[]={
 597          /*--  数字:  0  --*/
 598          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 599          0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x0F,0x10,0x20,0x20,0x10,0x0F,0x00,
 600          
 601          /*--  数字:  1  --*/
 602          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 603          0x00,0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,
 604          
 605          /*--  数字:  2  --*/
 606          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 607          0x00,0x70,0x08,0x08,0x08,0x08,0xF0,0x00,0x00,0x30,0x28,0x24,0x22,0x21,0x30,0x00,
 608          
 609          /*--  数字:  3  --*/
 610          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 611          0x00,0x30,0x08,0x08,0x08,0x88,0x70,0x00,0x00,0x18,0x20,0x21,0x21,0x22,0x1C,0x00,
 612          
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 11  

 613          /*--  数字:  4  --*/
 614          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 615          0x00,0x00,0x80,0x40,0x30,0xF8,0x00,0x00,0x00,0x06,0x05,0x24,0x24,0x3F,0x24,0x24,
 616          
 617          /*--  数字:  5  --*/
 618          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 619          0x00,0xF8,0x88,0x88,0x88,0x08,0x08,0x00,0x00,0x19,0x20,0x20,0x20,0x11,0x0E,0x00,
 620          
 621          /*--  数字:  6  --*/
 622          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 623          0x00,0xE0,0x10,0x88,0x88,0x90,0x00,0x00,0x00,0x0F,0x11,0x20,0x20,0x20,0x1F,0x00,
 624          
 625          /*--  数字:  7  --*/
 626          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 627          0x00,0x18,0x08,0x08,0x88,0x68,0x18,0x00,0x00,0x00,0x00,0x3E,0x01,0x00,0x00,0x00,
 628          
 629          /*--  数字:  8  --*/
 630          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 631          0x00,0x70,0x88,0x08,0x08,0x88,0x70,0x00,0x00,0x1C,0x22,0x21,0x21,0x22,0x1C,0x00,
 632          
 633          /*--  数字:  9  --*/
 634          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 635          0x00,0xF0,0x08,0x08,0x08,0x10,0xE0,0x00,0x00,0x01,0x12,0x22,0x22,0x11,0x0F,0x00,
 636          
 637          /*--  冒号:  :  --*/
 638          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 639          0x00,0x00,0x00,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,
 640          
 641          /*--  杠号:  -  --*/
 642          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 643          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x00,
 644          
 645          /*--  空格:     --*/
 646          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 647          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 648          
 649          /*--  文字:  A  --*/
 650          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 651          0x00,0x00,0xC0,0x38,0xE0,0x00,0x00,0x00,0x20,0x3C,0x23,0x02,0x02,0x27,0x38,0x20,
 652          
 653          /*--  文字:  P  --*/
 654          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 655          0x08,0xF8,0x08,0x08,0x08,0x08,0xF0,0x00,0x20,0x3F,0x21,0x01,0x01,0x01,0x00,0x00,
 656          
 657          /*--  文字:  M  --*/
 658          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 659          0x08,0xF8,0xF8,0x00,0xF8,0xF8,0x08,0x00,0x20,0x3F,0x01,0x3E,0x01,0x3F,0x20,0x00,
 660          
 661          /*--  文字:  R  --*/
 662          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 663          0x08,0xF8,0x88,0x88,0x88,0x88,0x70,0x00,0x20,0x3F,0x20,0x00,0x03,0x0C,0x30,0x20,
 664          
 665          /*--  文字:  H  --*/
 666          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 667          0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,0x20,0x3F,0x21,0x01,0x01,0x21,0x3F,0x20,
 668          
 669          /*--  文字:  C  --*/
 670          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 671          0xC0,0x30,0x08,0x08,0x08,0x08,0x38,0x00,0x07,0x18,0x20,0x20,0x20,0x10,0x08,0x00,
 672          
 673          /*--  文字:  %  --*/
 674          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 12  

 675          0xF0,0x08,0xF0,0x80,0x60,0x18,0x00,0x00,0x00,0x31,0x0C,0x03,0x1E,0x21,0x1E,0x00,
 676          };
 677          
 678          //天气预报表
 679          uchar code TianQi[]={
 680          /*--  文字:  晴  --*/
 681          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 682          0x00,0xFC,0x84,0x84,0xFC,0x00,0x44,0x54,0x54,0x54,0x7F,0x54,0x54,0x54,0x44,0x00,
 683          0x00,0x3F,0x10,0x10,0x3F,0x00,0x00,0xFF,0x15,0x15,0x15,0x55,0x95,0x7F,0x00,0x00,
 684          
 685          /*--  文字:  多  --*/
 686          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 687          0x00,0x00,0x10,0x10,0x98,0xA4,0x47,0x44,0xA4,0x54,0x0C,0x04,0x00,0x00,0x00,0x00,
 688          0x00,0x81,0x89,0x89,0x44,0x44,0x4A,0x31,0x21,0x11,0x09,0x05,0x03,0x00,0x00,0x00,
 689          
 690          /*--  文字:  云  --*/
 691          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 692          0x40,0x40,0x42,0x42,0x42,0x42,0xC2,0x42,0x42,0x42,0x42,0x42,0x42,0x40,0x40,0x00,
 693          0x00,0x20,0x70,0x28,0x24,0x23,0x20,0x20,0x20,0x24,0x28,0x30,0xE0,0x00,0x00,0x00,
 694          
 695          /*--  文字:  阴  --*/
 696          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 697          0x00,0xFE,0x02,0x22,0xDA,0x06,0x00,0xFE,0x22,0x22,0x22,0x22,0x22,0xFE,0x00,0x00,
 698          0x00,0xFF,0x08,0x10,0x88,0x47,0x30,0x0F,0x02,0x02,0x02,0x42,0x82,0x7F,0x00,0x00,
 699          
 700          /*--  文字:  雾  --*/
 701          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 702          0x10,0x0C,0x05,0x55,0x55,0xD5,0x05,0x7F,0x05,0x55,0x55,0x55,0x05,0x14,0x0C,0x00,
 703          0x10,0x10,0x10,0x8A,0xA9,0x6B,0x35,0x25,0x25,0xAB,0xE9,0x08,0x10,0x10,0x10,0x00,
 704          
 705          /*--  文字:  小  --*/
 706          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 707          0x00,0x00,0x00,0xE0,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x20,0x40,0x80,0x00,0x00,
 708          0x08,0x04,0x03,0x00,0x00,0x40,0x80,0x7F,0x00,0x00,0x00,0x00,0x00,0x01,0x0E,0x00,
 709          
 710          /*--  文字:  雨  --*/
 711          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 712          0x02,0xE2,0x22,0x22,0x22,0x22,0x22,0xFE,0x22,0x22,0x22,0x22,0x22,0xE2,0x02,0x00,
 713          0x00,0xFF,0x00,0x00,0x09,0x12,0x00,0x7F,0x00,0x09,0x12,0x40,0x80,0x7F,0x00,0x00,
 714          
 715          /*--  文字:  大  --*/
 716          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 717          0x20,0x20,0x20,0x20,0x20,0x20,0x20,0xFF,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x00,
 718          0x80,0x80,0x40,0x20,0x10,0x0C,0x03,0x00,0x03,0x0C,0x10,0x20,0x40,0x80,0x80,0x00,
 719          
 720          /*--  文字:  雨  --*/
 721          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 722          0x02,0xE2,0x22,0x22,0x22,0x22,0x22,0xFE,0x22,0x22,0x22,0x22,0x22,0xE2,0x02,0x00,
 723          0x00,0xFF,0x00,0x00,0x09,0x12,0x00,0x7F,0x00,0x09,0x12,0x40,0x80,0x7F,0x00,0x00,
 724          
 725          /*--  文字:  雷  --*/
 726          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 727          0x20,0x18,0x0A,0xAA,0xAA,0xAA,0x0A,0xFE,0x0A,0xAA,0xAA,0xAA,0x0A,0x28,0x18,0x00,
 728          0x00,0x00,0xFE,0x92,0x92,0x92,0x92,0xFE,0x92,0x92,0x92,0x92,0xFE,0x00,0x00,0x00,
 729          
 730          /*--  文字:  阵  --*/
 731          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 732          0x00,0xFE,0x02,0x22,0xDA,0x06,0x08,0xC8,0xB8,0x8F,0xE8,0x88,0x88,0x88,0x08,0x00,
 733          0x00,0xFF,0x08,0x10,0x08,0x07,0x08,0x08,0x08,0x08,0xFF,0x08,0x08,0x08,0x08,0x00,
 734          
 735          /*--  文字:  雨  --*/
 736          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 13  

 737          0x02,0xE2,0x22,0x22,0x22,0x22,0x22,0xFE,0x22,0x22,0x22,0x22,0x22,0xE2,0x02,0x00,
 738          0x00,0xFF,0x00,0x00,0x09,0x12,0x00,0x7F,0x00,0x09,0x12,0x40,0x80,0x7F,0x00,0x00,
 739          
 740          /*--  文字:  冰  --*/
 741          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 742          0x00,0x02,0x0C,0xC0,0x00,0x20,0x20,0xE0,0x00,0xFF,0x70,0xA0,0x10,0x08,0x00,0x00,
 743          0x02,0x02,0x7F,0x00,0x10,0x08,0x06,0x41,0x80,0x7F,0x00,0x01,0x06,0x08,0x10,0x00,
 744          
 745          /*--  文字:  雹  --*/
 746          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 747          0x10,0x0C,0x05,0x55,0xD5,0x55,0x05,0x7F,0x05,0x55,0x55,0x55,0x05,0x14,0x0C,0x00,
 748          0x00,0x04,0x02,0x7D,0x95,0x95,0x95,0x95,0x9D,0x91,0xA1,0x9F,0x80,0xC0,0x00,0x00,
 749          
 750          /*--  文字:  冻  --*/
 751          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 752          0x00,0x02,0x0C,0x80,0x60,0x08,0x88,0x68,0x18,0x0F,0xE8,0x08,0x08,0x08,0x08,0x00,
 753          0x02,0x02,0x7E,0x01,0x00,0x20,0x11,0x0D,0x41,0x81,0x7F,0x01,0x05,0x09,0x30,0x00,
 754          
 755          /*--  文字:  雨  --*/
 756          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 757          0x02,0xE2,0x22,0x22,0x22,0x22,0x22,0xFE,0x22,0x22,0x22,0x22,0x22,0xE2,0x02,0x00,
 758          0x00,0xFF,0x00,0x00,0x09,0x12,0x00,0x7F,0x00,0x09,0x12,0x40,0x80,0x7F,0x00,0x00,
 759          
 760          /*--  文字:  雨  --*/
 761          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 762          0x02,0xE2,0x22,0x22,0x22,0x22,0x22,0xFE,0x22,0x22,0x22,0x22,0x22,0xE2,0x02,0x00,
 763          0x00,0xFF,0x00,0x00,0x09,0x12,0x00,0x7F,0x00,0x09,0x12,0x40,0x80,0x7F,0x00,0x00,
 764          
 765          /*--  文字:  夹  --*/
 766          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 767          0x00,0x08,0x08,0x28,0x48,0x08,0x08,0xFF,0x08,0x08,0x48,0x28,0x08,0x08,0x00,0x00,
 768          0x81,0x81,0x41,0x41,0x21,0x11,0x0D,0x03,0x0D,0x11,0x21,0x41,0x41,0x81,0x81,0x00,
 769          
 770          /*--  文字:  雪  --*/
 771          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 772          0x10,0x0C,0x05,0x55,0x55,0x55,0x05,0x7F,0x05,0x55,0x55,0x55,0x05,0x14,0x0C,0x00,
 773          0x00,0x00,0x41,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0xFF,0x00,0x00,0x00,
 774          
 775          /*--  文字:  小  --*/
 776          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 777          0x00,0x00,0x00,0xE0,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x20,0x40,0x80,0x00,0x00,
 778          0x08,0x04,0x03,0x00,0x00,0x40,0x80,0x7F,0x00,0x00,0x00,0x00,0x00,0x01,0x0E,0x00,
 779          
 780          /*--  文字:  雪  --*/
 781          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 782          0x10,0x0C,0x05,0x55,0x55,0x55,0x05,0x7F,0x05,0x55,0x55,0x55,0x05,0x14,0x0C,0x00,
 783          0x00,0x00,0x41,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0xFF,0x00,0x00,0x00,
 784          
 785          /*--  文字:  中  --*/
 786          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 787          0x00,0x00,0xF0,0x10,0x10,0x10,0x10,0xFF,0x10,0x10,0x10,0x10,0xF0,0x00,0x00,0x00,
 788          0x00,0x00,0x0F,0x04,0x04,0x04,0x04,0xFF,0x04,0x04,0x04,0x04,0x0F,0x00,0x00,0x00,
 789          
 790          /*--  文字:  雪  --*/
 791          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 792          0x10,0x0C,0x05,0x55,0x55,0x55,0x05,0x7F,0x05,0x55,0x55,0x55,0x05,0x14,0x0C,0x00,
 793          0x00,0x00,0x41,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0xFF,0x00,0x00,0x00,
 794          
 795          /*--  文字:  大  --*/
 796          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 797          0x20,0x20,0x20,0x20,0x20,0x20,0x20,0xFF,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x00,
 798          0x80,0x80,0x40,0x20,0x10,0x0C,0x03,0x00,0x03,0x0C,0x10,0x20,0x40,0x80,0x80,0x00,
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 14  

 799          
 800          /*--  文字:  雪  --*/
 801          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 802          0x10,0x0C,0x05,0x55,0x55,0x55,0x05,0x7F,0x05,0x55,0x55,0x55,0x05,0x14,0x0C,0x00,
 803          0x00,0x00,0x41,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0xFF,0x00,0x00,0x00,
 804          
 805          /*--  文字:  霜  --*/
 806          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 807          0x10,0x0C,0x05,0x55,0x55,0x55,0x05,0x7F,0x05,0x55,0x55,0x55,0x05,0x14,0x0C,0x00,
 808          0x20,0x12,0x0A,0x06,0xFF,0x0A,0x12,0x00,0xFF,0x55,0x55,0x55,0x55,0xFF,0x00,0x00,
 809          
 810          /*--  文字:  冻  --*/
 811          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 812          0x00,0x02,0x0C,0x80,0x60,0x08,0x88,0x68,0x18,0x0F,0xE8,0x08,0x08,0x08,0x08,0x00,
 813          0x02,0x02,0x7E,0x01,0x00,0x20,0x11,0x0D,0x41,0x81,0x7F,0x01,0x05,0x09,0x30,0x00,
 814          };
 815          /***************************************************
 816          * 标题：公历与农历转换                        
 817          //公历年对应的农历数据,每年三字节,
 818          //格式第一字节BIT7-4 位表示闰月月份,值为0 为无闰月,BIT3-0 对应农历第1-4 月的大小
 819          //第二字节BIT7-0 对应农历第5-12 月大小,第三字节BIT7 表示农历第13 个月大小
 820          //月份对应的位为1 表示本农历月大(30 天),为0 表示小(29 天).
 821          //第三字节BIT6-5 表示春节的公历月份,BIT4-0 表示春节的公历日期                   
 822          ***************************************************/
 823          uchar code year_code[] =
 824          {
 825                  0x04, 0xAe, 0x53,                                                       /* 1901 */
 826                  0x0A, 0x57, 0x48,                                                       /* 1902 */
 827                  0x55, 0x26, 0xBd,                                                       /* 1903 */
 828                  0x0d, 0x26, 0x50,                                                       /* 1904 */
 829                  0x0d, 0x95, 0x44,                                                       /* 1905 */
 830                  0x46, 0xAA, 0xB9,                                                       /* 1906 */
 831                  0x05, 0x6A, 0x4d,                                                       /* 1907 */
 832                  0x09, 0xAd, 0x42,                                                       /* 1908 */
 833                  0x24, 0xAe, 0xB6,                                                       /* 1909 */
 834                  0x04, 0xAe, 0x4A,                                                       /* 1910 */
 835                  0x6A, 0x4d, 0xBe,                                                       /* 1911 */
 836                  0x0A, 0x4d, 0x52,                                                       /* 1912 */
 837                  0x0d, 0x25, 0x46,                                                       /* 1913 */
 838                  0x5d, 0x52, 0xBA,                                                       /* 1914 */
 839                  0x0B, 0x54, 0x4e,                                                       /* 1915 */
 840                  0x0d, 0x6A, 0x43,                                                       /* 1916 */
 841                  0x29, 0x6d, 0x37,                                                       /* 1917 */
 842                  0x09, 0x5B, 0x4B,                                                       /* 1918 */
 843                  0x74, 0x9B, 0xC1,                                                       /* 1919 */
 844                  0x04, 0x97, 0x54,                                                       /* 1920 */
 845                  0x0A, 0x4B, 0x48,                                                       /* 1921 */
 846                  0x5B, 0x25, 0xBC,                                                       /* 1922 */
 847                  0x06, 0xA5, 0x50,                                                       /* 1923 */
 848                  0x06, 0xd4, 0x45,                                                       /* 1924 */
 849                  0x4A, 0xdA, 0xB8,                                                       /* 1925 */
 850                  0x02, 0xB6, 0x4d,                                                       /* 1926 */
 851                  0x09, 0x57, 0x42,                                                       /* 1927 */
 852                  0x24, 0x97, 0xB7,                                                       /* 1928 */
 853                  0x04, 0x97, 0x4A,                                                       /* 1929 */
 854                  0x66, 0x4B, 0x3e,                                                       /* 1930 */
 855                  0x0d, 0x4A, 0x51,                                                       /* 1931 */
 856                  0x0e, 0xA5, 0x46,                                                       /* 1932 */
 857                  0x56, 0xd4, 0xBA,                                                       /* 1933 */
 858                  0x05, 0xAd, 0x4e,                                                       /* 1934 */
 859                  0x02, 0xB6, 0x44,                                                       /* 1935 */
 860                  0x39, 0x37, 0x38,                                                       /* 1936 */
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 15  

 861                  0x09, 0x2e, 0x4B,                                                       /* 1937 */
 862                  0x7C, 0x96, 0xBf,                                                       /* 1938 */
 863                  0x0C, 0x95, 0x53,                                                       /* 1939 */
 864                  0x0d, 0x4A, 0x48,                                                       /* 1940 */
 865                  0x6d, 0xA5, 0x3B,                                                       /* 1941 */
 866                  0x0B, 0x55, 0x4f,                                                       /* 1942 */
 867                  0x05, 0x6A, 0x45,                                                       /* 1943 */
 868                  0x4A, 0xAd, 0xB9,                                                       /* 1944 */
 869                  0x02, 0x5d, 0x4d,                                                       /* 1945 */
 870                  0x09, 0x2d, 0x42,                                                       /* 1946 */
 871                  0x2C, 0x95, 0xB6,                                                       /* 1947 */
 872                  0x0A, 0x95, 0x4A,                                                       /* 1948 */
 873                  0x7B, 0x4A, 0xBd,                                                       /* 1949 */
 874                  0x06, 0xCA, 0x51,                                                       /* 1950 */
 875                  0x0B, 0x55, 0x46,                                                       /* 1951 */
 876                  0x55, 0x5A, 0xBB,                                                       /* 1952 */
 877                  0x04, 0xdA, 0x4e,                                                       /* 1953 */
 878                  0x0A, 0x5B, 0x43,                                                       /* 1954 */
 879                  0x35, 0x2B, 0xB8,                                                       /* 1955 */
 880                  0x05, 0x2B, 0x4C,                                                       /* 1956 */
 881                  0x8A, 0x95, 0x3f,                                                       /* 1957 */
 882                  0x0e, 0x95, 0x52,                                                       /* 1958 */
 883                  0x06, 0xAA, 0x48,                                                       /* 1959 */
 884                  0x7A, 0xd5, 0x3C,                                                       /* 1960 */
 885                  0x0A, 0xB5, 0x4f,                                                       /* 1961 */
 886                  0x04, 0xB6, 0x45,                                                       /* 1962 */
 887                  0x4A, 0x57, 0x39,                                                       /* 1963 */
 888                  0x0A, 0x57, 0x4d,                                                       /* 1964 */
 889                  0x05, 0x26, 0x42,                                                       /* 1965 */
 890                  0x3e, 0x93, 0x35,                                                       /* 1966 */
 891                  0x0d, 0x95, 0x49,                                                       /* 1967 */
 892                  0x75, 0xAA, 0xBe,                                                       /* 1968 */
 893                  0x05, 0x6A, 0x51,                                                       /* 1969 */
 894                  0x09, 0x6d, 0x46,                                                       /* 1970 */
 895                  0x54, 0xAe, 0xBB,                                                       /* 1971 */
 896                  0x04, 0xAd, 0x4f,                                                       /* 1972 */
 897                  0x0A, 0x4d, 0x43,                                                       /* 1973 */
 898                  0x4d, 0x26, 0xB7,                                                       /* 1974 */
 899                  0x0d, 0x25, 0x4B,                                                       /* 1975 */
 900                  0x8d, 0x52, 0xBf,                                                       /* 1976 */
 901                  0x0B, 0x54, 0x52,                                                       /* 1977 */
 902                  0x0B, 0x6A, 0x47,                                                       /* 1978 */
 903                  0x69, 0x6d, 0x3C,                                                       /* 1979 */
 904                  0x09, 0x5B, 0x50,                                                       /* 1980 */
 905                  0x04, 0x9B, 0x45,                                                       /* 1981 */
 906                  0x4A, 0x4B, 0xB9,                                                       /* 1982 */
 907                  0x0A, 0x4B, 0x4d,                                                       /* 1983 */
 908                  0xAB, 0x25, 0xC2,                                                       /* 1984 */
 909                  0x06, 0xA5, 0x54,                                                       /* 1985 */
 910                  0x06, 0xd4, 0x49,                                                       /* 1986 */
 911                  0x6A, 0xdA, 0x3d,                                                       /* 1987 */
 912                  0x0A, 0xB6, 0x51,                                                       /* 1988 */
 913                  0x09, 0x37, 0x46,                                                       /* 1989 */
 914                  0x54, 0x97, 0xBB,                                                       /* 1990 */
 915                  0x04, 0x97, 0x4f,                                                       /* 1991 */
 916                  0x06, 0x4B, 0x44,                                                       /* 1992 */
 917                  0x36, 0xA5, 0x37,                                                       /* 1993 */
 918                  0x0e, 0xA5, 0x4A,                                                       /* 1994 */
 919                  0x86, 0xB2, 0xBf,                                                       /* 1995 */
 920                  0x05, 0xAC, 0x53,                                                       /* 1996 */
 921                  0x0A, 0xB6, 0x47,                                                       /* 1997 */
 922                  0x59, 0x36, 0xBC,                                                       /* 1998 */
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 16  

 923                  0x09, 0x2e, 0x50,                                                       /* 1999 294 */
 924                  0x0C, 0x96, 0x45,                                                       /* 2000 297 */
 925                  0x4d, 0x4A, 0xB8,                                                       /* 2001 */
 926                  0x0d, 0x4A, 0x4C,                                                       /* 2002 */
 927                  0x0d, 0xA5, 0x41,                                                       /* 2003 */
 928                  0x25, 0xAA, 0xB6,                                                       /* 2004 */
 929                  0x05, 0x6A, 0x49,                                                       /* 2005 */
 930                  0x7A, 0xAd, 0xBd,                                                       /* 2006 */
 931                  0x02, 0x5d, 0x52,                                                       /* 2007 */
 932                  0x09, 0x2d, 0x47,                                                       /* 2008 */
 933                  0x5C, 0x95, 0xBA,                                                       /* 2009 */
 934                  0x0A, 0x95, 0x4e,                                                       /* 2010 */
 935                  0x0B, 0x4A, 0x43,                                                       /* 2011 */
 936                  0x4B, 0x55, 0x37,                                                       /* 2012 */
 937                  0x0A, 0xd5, 0x4A,                                                       /* 2013 */
 938                  0x95, 0x5A, 0xBf,                                                       /* 2014 */
 939                  0x04, 0xBA, 0x53,                                                       /* 2015 */
 940                  0x0A, 0x5B, 0x48,                                                       /* 2016 */
 941                  0x65, 0x2B, 0xBC,                                                       /* 2017 */
 942                  0x05, 0x2B, 0x50,                                                       /* 2018 */
 943                  0x0A, 0x93, 0x45,                                                       /* 2019 */
 944                  0x47, 0x4A, 0xB9,                                                       /* 2020 */
 945                  0x06, 0xAA, 0x4C,                                                       /* 2021 */
 946                  0x0A, 0xd5, 0x41,                                                       /* 2022 */
 947                  0x24, 0xdA, 0xB6,                                                       /* 2023 */
 948                  0x04, 0xB6, 0x4A,                                                       /* 2024 */
 949                  0x69, 0x57, 0x3d,                                                       /* 2025 */
 950                  0x0A, 0x4e, 0x51,                                                       /* 2026 */
 951                  0x0d, 0x26, 0x46,                                                       /* 2027 */
 952                  0x5e, 0x93, 0x3A,                                                       /* 2028 */
 953                  0x0d, 0x53, 0x4d,                                                       /* 2029 */
 954                  0x05, 0xAA, 0x43,                                                       /* 2030 */
 955                  0x36, 0xB5, 0x37,                                                       /* 2031 */
 956                  0x09, 0x6d, 0x4B,                                                       /* 2032 */
 957                  0xB4, 0xAe, 0xBf,                                                       /* 2033 */
 958                  0x04, 0xAd, 0x53,                                                       /* 2034 */
 959                  0x0A, 0x4d, 0x48,                                                       /* 2035 */
 960                  0x6d, 0x25, 0xBC,                                                       /* 2036 */
 961                  0x0d, 0x25, 0x4f,                                                       /* 2037 */
 962                  0x0d, 0x52, 0x44,                                                       /* 2038 */
 963                  0x5d, 0xAA, 0x38,                                                       /* 2039 */
 964                  0x0B, 0x5A, 0x4C,                                                       /* 2040 */
 965                  0x05, 0x6d, 0x41,                                                       /* 2041 */
 966                  0x24, 0xAd, 0xB6,                                                       /* 2042 */
 967                  0x04, 0x9B, 0x4A,                                                       /* 2043 */
 968                  0x7A, 0x4B, 0xBe,                                                       /* 2044 */
 969                  0x0A, 0x4B, 0x51,                                                       /* 2045 */
 970                  0x0A, 0xA5, 0x46,                                                       /* 2046 */
 971                  0x5B, 0x52, 0xBA,                                                       /* 2047 */
 972                  0x06, 0xd2, 0x4e,                                                       /* 2048 */
 973                  0x0A, 0xdA, 0x42,                                                       /* 2049 */
 974                  0x35, 0x5B, 0x37,                                                       /* 2050 */
 975                  0x09, 0x37, 0x4B,                                                       /* 2051 */
 976                  0x84, 0x97, 0xC1,                                                       /* 2052 */
 977                  0x04, 0x97, 0x53,                                                       /* 2053 */
 978                  0x06, 0x4B, 0x48,                                                       /* 2054 */
 979                  0x66, 0xA5, 0x3C,                                                       /* 2055 */
 980                  0x0e, 0xA5, 0x4f,                                                       /* 2056 */
 981                  0x06, 0xB2, 0x44,                                                       /* 2057 */
 982                  0x4A, 0xB6, 0x38,                                                       /* 2058 */
 983                  0x0A, 0xAe, 0x4C,                                                       /* 2059 */
 984                  0x09, 0x2e, 0x42,                                                       /* 2060 */
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 17  

 985                  0x3C, 0x97, 0x35,                                                       /* 2061 */
 986                  0x0C, 0x96, 0x49,                                                       /* 2062 */
 987                  0x7d, 0x4A, 0xBd,                                                       /* 2063 */
 988                  0x0d, 0x4A, 0x51,                                                       /* 2064 */
 989                  0x0d, 0xA5, 0x45,                                                       /* 2065 */
 990                  0x55, 0xAA, 0xBA,                                                       /* 2066 */
 991                  0x05, 0x6A, 0x4e,                                                       /* 2067 */
 992                  0x0A, 0x6d, 0x43,                                                       /* 2068 */
 993                  0x45, 0x2e, 0xB7,                                                       /* 2069 */
 994                  0x05, 0x2d, 0x4B,                                                       /* 2070 */
 995                  0x8A, 0x95, 0xBf,                                                       /* 2071 */
 996                  0x0A, 0x95, 0x53,                                                       /* 2072 */
 997                  0x0B, 0x4A, 0x47,                                                       /* 2073 */
 998                  0x6B, 0x55, 0x3B,                                                       /* 2074 */
 999                  0x0A, 0xd5, 0x4f,                                                       /* 2075 */
1000                  0x05, 0x5A, 0x45,                                                       /* 2076 */
1001                  0x4A, 0x5d, 0x38,                                                       /* 2077 */
1002                  0x0A, 0x5B, 0x4C,                                                       /* 2078 */
1003                  0x05, 0x2B, 0x42,                                                       /* 2079 */
1004                  0x3A, 0x93, 0xB6,                                                       /* 2080 */
1005                  0x06, 0x93, 0x49,                                                       /* 2081 */
1006                  0x77, 0x29, 0xBd,                                                       /* 2082 */
1007                  0x06, 0xAA, 0x51,                                                       /* 2083 */
1008                  0x0A, 0xd5, 0x46,                                                       /* 2084 */
1009                  0x54, 0xdA, 0xBA,                                                       /* 2085 */
1010                  0x04, 0xB6, 0x4e,                                                       /* 2086 */
1011                  0x0A, 0x57, 0x43,                                                       /* 2087 */
1012                  0x45, 0x27, 0x38,                                                       /* 2088 */
1013                  0x0d, 0x26, 0x4A,                                                       /* 2089 */
1014                  0x8e, 0x93, 0x3e,                                                       /* 2090 */
1015                  0x0d, 0x52, 0x52,                                                       /* 2091 */
1016                  0x0d, 0xAA, 0x47,                                                       /* 2092 */
1017                  0x66, 0xB5, 0x3B,                                                       /* 2093 */
1018                  0x05, 0x6d, 0x4f,                                                       /* 2094 */
1019                  0x04, 0xAe, 0x45,                                                       /* 2095 */
1020                  0x4A, 0x4e, 0xB9,                                                       /* 2096 */
1021                  0x0A, 0x4d, 0x4C,                                                       /* 2097 */
1022                  0x0d, 0x15, 0x41,                                                       /* 2098 */
1023                  0x2d, 0x92, 0xB5,                                                       /* 2099 */
1024          };
1025          uchar code      day_code1[9] = { 0x0, 0x1f, 0x3b, 0x5a, 0x78, 0x97, 0xb5, 0xd4, 0xf3 };
1026          uint code       day_code2[3] = { 0x111, 0x130, 0x14e };
1027          uchar code      table_week[12] = { 0, 3, 3, 6, 1, 4, 6, 2, 5, 0, 3, 5 };        /* 月修正数据表 */
1028          
1029          //二十四节气对应年的日期表
1030          //依次从1月开始，每月用一个字节存放，用15减去高四位数据即得到第一个节气对应日期
1031          //低四位数据加上15即得到第二个节气对应日期
1032          uchar code ChinaSolarTerms[]={
1033          0x96,0xb4,0x96,0xa6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,    //1901
1034          0x96,0xa4,0x96,0x96,0x97,0x87,0x79,0x79,0x79,0x69,0x78,0x78,    //1902
1035          0x96,0xa5,0x87,0x96,0x87,0x87,0x79,0x69,0x69,0x69,0x78,0x78,    //1903
1036          0x86,0xa5,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x78,    //1904
1037          0x96,0xb4,0x96,0xa6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,    //1905
1038          0x96,0xa4,0x96,0x96,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x78,    //1906
1039          0x96,0xa5,0x87,0x96,0x87,0x87,0x79,0x69,0x69,0x69,0x78,0x78,    //1907
1040          0x86,0xa5,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,    //1908
1041          0x96,0xb4,0x96,0xa6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,    //1909
1042          0x96,0xa4,0x96,0x96,0x97,0x97,0x79,0x79,0x79,0x79,0x78,0x78,    //1910
1043          0x96,0xa5,0x87,0x96,0x87,0x87,0x79,0x69,0x69,0x69,0x78,0x78,    //1911
1044          0x86,0xa5,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x69,0x77,0x87,    //1912
1045          0x95,0xb4,0x96,0xa6,0x97,0x97,0x78,0x79,0x78,0x69,0x78,0x77,    //1913
1046          0x96,0xb4,0x96,0xa6,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x78,    //1914
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 18  

1047          0x96,0xa5,0x97,0x96,0x97,0x87,0x79,0x79,0x69,0x69,0x78,0x78,    //1915
1048          0x96,0xa5,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,    //1916
1049          0x95,0xb4,0x96,0xa6,0x96,0x97,0x78,0x79,0x78,0x69,0x78,0x77,    //1917
1050          0x96,0xb4,0x96,0xa6,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x77,    //1918
1051          0x96,0xa5,0x97,0x96,0x97,0x87,0x79,0x79,0x69,0x69,0x78,0x78,    //1919
1052          0x96,0xa5,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,    //1920
1053          0x95,0xb4,0x96,0xa5,0x96,0x97,0x78,0x79,0x78,0x69,0x78,0x87,    //1921
1054          0x96,0xb4,0x96,0xa5,0x96,0x97,0x78,0x79,0x78,0x69,0x78,0x87,    //1922
1055          0x96,0xa4,0x96,0x96,0x97,0x87,0x79,0x79,0x69,0x69,0x78,0x78,    //1923
1056          0x96,0xa5,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,    //1924
1057          0x95,0xb4,0x96,0xa5,0x96,0x97,0x78,0x79,0x78,0x69,0x78,0x87,    //1925
1058          0x96,0xb4,0x96,0xa6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,    //1926
1059          0x96,0xa4,0x96,0x96,0x97,0x87,0x79,0x79,0x69,0x69,0x78,0x78,    //1927
1060          0x96,0xa5,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x78,0x87,0x87,    //1928
1061          0x95,0xb4,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,    //1929
1062          0x96,0xb4,0x96,0xa6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,    //1930
1063          0x96,0xa4,0x96,0x96,0x97,0x87,0x79,0x79,0x79,0x69,0x78,0x78,    //1931
1064          0x96,0xa5,0x96,0xa5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,    //1932
1065          0x95,0xb4,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,    //1933
1066          0x96,0xb4,0x96,0xa6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,    //1934
1067          0x96,0xa4,0x96,0x96,0x97,0x97,0x79,0x79,0x79,0x79,0x78,0x78,    //1935
1068          0x96,0xa5,0x96,0xa5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,    //1936
1069          0x95,0xb4,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,    //1937
1070          0x96,0xb4,0x96,0xa6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,    //1938
1071          0x96,0xa4,0x96,0x96,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x78,    //1939
1072          0x96,0xa5,0x96,0xa5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,    //1940
1073          0x95,0xb4,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,    //1941
1074          0x96,0xb4,0x96,0xa6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,    //1942
1075          0x96,0xa4,0x96,0x96,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x78,    //1943
1076          0x96,0xa5,0x96,0xa5,0xa6,0x96,0x88,0x78,0x78,0x78,0x87,0x87,    //1944
1077          0x95,0xb4,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,    //1945
1078          0x95,0xb4,0x96,0xa6,0x97,0x97,0x78,0x79,0x78,0x69,0x78,0x77,    //1946
1079          0x96,0xb4,0x96,0xa6,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x78,    //1947
1080          0x96,0xa5,0xa6,0xa5,0xa6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,    //1948
1081          0xa5,0xb4,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,    //1949
1082          0x95,0xb4,0x96,0xa5,0x96,0x97,0x78,0x79,0x78,0x69,0x78,0x77,    //1950
1083          0x96,0xb4,0x96,0xa6,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x78,    //1951
1084          0x96,0xa5,0xa6,0xa5,0xa6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,    //1952
1085          0xa5,0xb4,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,    //1953
1086          0x95,0xb4,0x96,0xa5,0x96,0x97,0x78,0x79,0x78,0x69,0x78,0x87,    //1954
1087          0x96,0xb4,0x96,0xa6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,    //1955
1088          0x96,0xa5,0xa5,0xa5,0xa6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,    //1956
1089          0xa5,0xb4,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,    //1957
1090          0x95,0xb4,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,    //1958
1091          0x96,0xb4,0x96,0xa6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,    //1959
1092          0x96,0xa4,0xa5,0xa5,0xa6,0x96,0x88,0x88,0x88,0x78,0x87,0x87,    //1960
1093          0xa5,0xb4,0x96,0xa5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,    //1961
1094          0x95,0xb4,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,    //1962
1095          0x96,0xb4,0x96,0xa6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,    //1963
1096          0x96,0xb4,0xa5,0xa5,0xa6,0x96,0x88,0x88,0x88,0x78,0x87,0x87,    //1964
1097          0xa5,0xb4,0x96,0xa5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,    //1965
1098          0x95,0xb4,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,    //1966
1099          0x96,0xb4,0x96,0xa6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,    //1967
1100          0x96,0xb4,0xa5,0xa5,0xa6,0xa6,0x88,0x88,0x88,0x78,0x87,0x87,    //1968
1101          0xa5,0xb4,0x96,0xa5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,    //1969
1102          0x95,0xb4,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,    //1970
1103          0x96,0xb4,0x96,0xa6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,    //1971
1104          0x96,0xa4,0xa5,0xa5,0xa6,0x96,0x88,0x88,0x88,0x78,0x87,0x87,    //1972
1105          0xa5,0xb4,0x96,0xa5,0xa6,0x96,0x88,0x78,0x78,0x78,0x87,0x87,    //1973
1106          0x95,0xb4,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,    //1974
1107          0x96,0xb4,0x96,0xa6,0x97,0x97,0x78,0x79,0x78,0x69,0x78,0x77,    //1975
1108          0x96,0xa4,0xa5,0xb5,0xa6,0xa6,0x88,0x88,0x88,0x78,0x87,0x87,    //1976
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 19  

1109          0xa5,0xb4,0x96,0xa5,0xa6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,    //1977
1110          0x95,0xb4,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x79,0x78,0x87,    //1978
1111          0x95,0xb4,0x96,0xa6,0x96,0x97,0x78,0x79,0x78,0x69,0x78,0x77,    //1979
1112          0x96,0xa4,0xa5,0xb5,0xa6,0xa6,0x88,0x88,0x88,0x78,0x87,0x87,    //1980
1113          0xa5,0xb4,0x96,0xa5,0xa6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,    //1981
1114          0x95,0xb4,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,    //1982
1115          0x95,0xb4,0x96,0xa5,0x96,0x97,0x78,0x79,0x78,0x69,0x78,0x77,    //1983
1116          0x96,0xb4,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x88,0x78,0x87,0x87,    //1984
1117          0xa5,0xb4,0xa6,0xa5,0xa6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,    //1985
1118          0xa5,0xb4,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,    //1986
1119          0x95,0xb4,0x96,0xa5,0x96,0x97,0x88,0x79,0x78,0x69,0x78,0x87,    //1987
1120          0x96,0xb4,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x88,0x78,0x87,0x86,    //1988
1121          0xa5,0xb4,0xa5,0xa5,0xa6,0x96,0x88,0x88,0x88,0x78,0x87,0x87,    //1989
1122          0xa5,0xb4,0x96,0xa5,0x96,0x96,0x88,0x78,0x78,0x79,0x77,0x87,    //1990
1123          0x95,0xb4,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,    //1991
1124          0x96,0xb4,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x88,0x78,0x87,0x86,    //1992
1125          0xa5,0xb3,0xa5,0xa5,0xa6,0x96,0x88,0x88,0x88,0x78,0x87,0x87,    //1993
1126          0xa5,0xb4,0x96,0xa5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,    //1994
1127          0x95,0xb4,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,    //1995
1128          0x96,0xb4,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x88,0x78,0x87,0x86,    //1996
1129          0xa5,0xb3,0xa5,0xa5,0xa6,0xa6,0x88,0x88,0x88,0x78,0x87,0x87,    //1997
1130          0xa5,0xb4,0x96,0xa5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,    //1998
1131          0x95,0xb4,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,    //1999
1132          0x96,0xb4,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x88,0x78,0x87,0x86,    //2000
1133          0xa5,0xb3,0xa5,0xa5,0xa6,0xa6,0x88,0x88,0x88,0x78,0x87,0x87,    //2001
1134          0xa5,0xb4,0x96,0xa5,0x96,0x96,0x88,0x88,0x78,0x78,0x87,0x87,    //2002
1135          0x95,0xb4,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,    //2003
1136          0x96,0xb4,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x88,0x78,0x87,0x86,    //2004
1137          0xa5,0xb3,0xa5,0xa5,0xa6,0xa6,0x88,0x88,0x88,0x78,0x87,0x87,    //2005
1138          0xa5,0xb4,0x96,0xa5,0xa6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,    //2006
1139          0x95,0xb4,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,    //2007
1140          0x96,0xb4,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x87,0x78,0x87,0x86,    //2008
1141          0xa5,0xb3,0xa5,0xb5,0xa6,0xa6,0x88,0x88,0x88,0x78,0x87,0x87,    //2009
1142          0xa5,0xb4,0x96,0xa5,0xa6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,    //2010
1143          0x95,0xb4,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x79,0x78,0x87,    //2011
1144          0x96,0xb4,0xa5,0xb5,0xa5,0xa6,0x87,0x88,0x87,0x78,0x87,0x86,    //2012
1145          0xa5,0xb3,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x88,0x78,0x87,0x87,    //2013
1146          0xa5,0xb4,0x96,0xa5,0xa6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,    //2014
1147          0x95,0xb4,0x96,0xa5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,    //2015
1148          0x95,0xb4,0xa5,0xb4,0xa5,0xa6,0x87,0x88,0x87,0x78,0x87,0x86,    //2016
1149          0xa5,0xc3,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x88,0x78,0x87,0x87,    //2017
1150          0xa5,0xb4,0xa6,0xa5,0xa6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,    //2018
1151          0xa5,0xb4,0x96,0xa5,0x96,0x96,0x88,0x78,0x78,0x79,0x77,0x87,    //2019
1152          0X95,0XB4,0XA5,0XB4,0XA5,0XA6,0x97,0x87,0x87,0x78,0x87,0x86,    //2020
1153          0xa5,0xc3,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x88,0x78,0x87,0x86,    //2021
1154          0xa5,0xb4,0xa5,0xb5,0xa6,0x96,0x88,0x88,0x88,0x78,0x87,0x87,    //2022
1155          0xa5,0xb4,0x96,0xa5,0x96,0x96,0x88,0x78,0x78,0x79,0x77,0x87,    //2023
1156          0x95,0xb4,0xa5,0xb4,0xa5,0xa6,0x97,0x87,0x87,0x78,0x87,0x96,    //2024
1157          0xa5,0xc3,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x88,0x78,0x87,0x86,    //2025
1158          0xa5,0xb3,0xa5,0xa5,0xa6,0xa6,0x88,0x88,0x88,0x78,0x87,0x87,    //2026
1159          0xa5,0xb4,0x96,0xa5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,    //2027
1160          0x95,0xb4,0xa5,0xb4,0xa5,0xa6,0x97,0x87,0x87,0x78,0x87,0x96,    //2028
1161          0xa5,0xc3,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x88,0x78,0x87,0x86,    //2029
1162          0xa5,0xb3,0xa5,0xa5,0xa6,0xa6,0x88,0x88,0x88,0x78,0x87,0x87,    //2030
1163          0xa5,0xb4,0x96,0xa5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,    //2031
1164          0x95,0xb4,0xa5,0xb4,0xa5,0xa6,0x97,0x87,0x87,0x78,0x87,0x96,    //2032
1165          0xa5,0xc3,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x88,0x78,0x87,0x86,    //2033
1166          0xa5,0xb3,0xa5,0xa5,0xa6,0xa6,0x88,0x88,0x88,0x78,0x87,0x87,    //2034
1167          0xa5,0xb4,0x96,0xa5,0xa6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,    //2035
1168          0x95,0xb4,0xa5,0xb4,0xa5,0xa6,0x97,0x87,0x87,0x78,0x87,0x96,    //2036
1169          0xa5,0xc3,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x88,0x78,0x87,0x86,    //2037
1170          0xa5,0xb3,0xa5,0xa5,0xa6,0xa6,0x88,0x88,0x88,0x78,0x87,0x87,    //2038
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 20  

1171          0xa5,0xb4,0x96,0xa5,0xa6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,    //2039
1172          0x95,0xb4,0xa5,0xb4,0xa5,0xa6,0x97,0x87,0x87,0x78,0x87,0x96,    //2040
1173          0xa5,0xc3,0xa5,0xb5,0xa5,0xa6,0x87,0x88,0x87,0x78,0x87,0x86,    //2041
1174          0xa5,0xb3,0xa5,0xb5,0xa6,0xa6,0x88,0x88,0x88,0x78,0x87,0x87,    //2042
1175          0xa5,0xb4,0x96,0xa5,0xa6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,    //2043
1176          0x95,0xb4,0xa5,0xb4,0xa5,0xa6,0x97,0x87,0x87,0x88,0x87,0x96,    //2044
1177          0xa5,0xc3,0xa5,0xb4,0xa5,0xa6,0x87,0x88,0x87,0x78,0x87,0x86,    //2045
1178          0xa5,0xb3,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x88,0x78,0x87,0x87,    //2046
1179          0xa5,0xb4,0x96,0xa5,0xa6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,    //2047
1180          0x95,0xb4,0xa5,0xb4,0xa5,0xa5,0x97,0x87,0x87,0x88,0x86,0x96,    //2048
1181          0xa4,0xc3,0xa5,0xb4,0xa5,0xa6,0x97,0x87,0x87,0x78,0x87,0x86,    //2049
1182          0xa5,0xc3,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x88,0x78,0x87,0x87,    //2050
1183          0xa5,0xb4,0xa5,0xa5,0xa6,0x96,0x88,0x88,0x88,0x78,0x87,0x87,    //2051
1184          0xa5,0xb4,0xa5,0xb4,0xa5,0xa5,0x97,0x87,0x97,0x88,0x86,0x96,    //2052
1185          0xa4,0xc3,0xa5,0xb4,0xa5,0xa6,0x97,0x87,0x87,0x78,0x87,0x86,    //2053
1186          0xa5,0xc3,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x88,0x78,0x87,0x87,    //2054
1187          0xa5,0xb4,0xa5,0xa5,0xa6,0xa6,0x88,0x88,0x88,0x78,0x87,0x87,    //2055
1188          0xa5,0xb4,0xa5,0xb4,0xa5,0xa5,0x97,0x87,0x87,0x88,0x86,0x96,    //2056
1189          0xa4,0xc3,0xa5,0xb4,0xa5,0xa6,0x97,0x87,0x87,0x78,0x87,0x96,    //2057
1190          0xa5,0xc3,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x88,0x78,0x87,0x86,    //2058
1191          0xa5,0xb4,0xa5,0xa5,0xa6,0xa6,0x88,0x88,0x88,0x78,0x87,0x87,    //2059
1192          0xa5,0xb4,0xa5,0xb4,0xa5,0xa5,0x97,0x87,0x87,0x87,0x96,0x96,    //2060
1193          0xa4,0xc3,0xa5,0xb4,0xa5,0xa6,0x97,0x87,0x87,0x78,0x87,0x96,    //2061
1194          0xa5,0xc3,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x88,0x78,0x87,0x86,    //2062
1195          0xa5,0xb3,0xa5,0xa5,0xa6,0xa6,0x88,0x88,0x88,0x78,0x87,0x87,    //2063
1196          0xa5,0xb4,0xa5,0xb4,0xa5,0xa5,0x97,0x87,0x87,0x87,0x96,0x96,    //2064
1197          0xa4,0xc3,0xa5,0xb4,0xa5,0xa6,0x97,0x87,0x87,0x78,0x87,0x96,    //2065
1198          0xa5,0xc3,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x88,0x78,0x87,0x86,    //2066
1199          0xa5,0xb3,0xa5,0xa5,0xa6,0xa6,0x88,0x88,0x88,0x78,0x87,0x87,    //2067
1200          0xa5,0xb4,0xa5,0xb4,0xb5,0xa5,0x97,0x97,0x87,0x87,0x96,0x96,    //2068
1201          0xa4,0xc3,0xa5,0xb4,0xa5,0xa6,0x97,0x87,0x87,0x78,0x87,0x96,    //2069
1202          0xa5,0xc3,0xa5,0xb5,0xa5,0xa6,0x87,0x88,0x87,0x78,0x87,0x86,    //2070
1203          0xa5,0xb3,0xa5,0xa5,0xa6,0xa6,0x88,0x88,0x88,0x78,0x87,0x87,    //2071
1204          0xa5,0xb4,0xa5,0xb4,0xb5,0xa5,0x97,0x97,0x87,0x87,0x96,0x96,    //2072
1205          0xa4,0xc3,0xa5,0xb4,0xa5,0xa6,0x97,0x87,0x87,0x88,0x87,0x96,    //2073
1206          0xa5,0xc3,0xa5,0xb5,0xa5,0xa6,0x87,0x88,0x87,0x78,0x87,0x86,    //2074
1207          0xa5,0xb3,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x88,0x78,0x87,0x87,    //2075
1208          0xa5,0xb4,0xa5,0xb4,0xb5,0xa5,0x97,0x97,0x87,0x87,0x96,0x96,    //2076
1209          0xa4,0xc3,0xa5,0xb4,0xa5,0xa6,0x97,0x87,0x87,0x88,0x87,0x96,    //2077
1210          0xa5,0xc3,0xa5,0xb4,0xa5,0xa6,0x97,0x88,0x87,0x78,0x87,0x86,    //2078
1211          0xa5,0xb3,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x88,0x78,0x87,0x87,    //2079
1212          0xa5,0xb4,0xa5,0xb4,0xb5,0xa5,0x97,0x97,0x87,0x87,0x96,0x96,    //2080
1213          0xa4,0xc3,0xa5,0xb4,0xa5,0xa5,0x97,0x87,0x87,0x88,0x86,0x96,    //2081
1214          0xa5,0xc3,0xa5,0xb4,0xa5,0xa6,0x97,0x87,0x87,0x78,0x87,0x86,    //2082
1215          0xa5,0xc3,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x88,0x78,0x87,0x87,    //2083
1216          0xa5,0xb4,0xb4,0xb4,0xb5,0xa5,0x97,0x97,0x97,0x87,0x96,0x96,    //2084
1217          0xb4,0xc3,0xa5,0xb4,0xa5,0xa5,0x97,0x87,0x87,0x88,0x86,0x96,    //2085
1218          0xa4,0xc3,0xa5,0xb4,0xa5,0xa6,0x97,0x87,0x87,0x78,0x87,0x86,    //2086
1219          0xa5,0xc3,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x88,0x78,0x87,0x87,    //2087
1220          0xa5,0xb4,0xb4,0xb4,0xb5,0xb5,0x97,0x97,0x97,0x87,0x96,0x96,    //2088
1221          0xb4,0xc3,0xa5,0xb4,0xa5,0xa5,0x97,0x87,0x87,0x88,0x86,0x96,    //2089
1222          0xa4,0xc3,0xa5,0xb4,0xa5,0xa6,0x97,0x87,0x87,0x78,0x87,0x96,    //2090
1223          0xa5,0xc3,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x88,0x78,0x87,0x86,    //2091
1224          0xa5,0xb4,0xb4,0xb4,0xb5,0xb5,0x97,0x97,0x97,0x87,0x96,0x96,    //2092
1225          0xb4,0xc3,0xa5,0xb4,0xa5,0xa5,0x97,0x87,0x87,0x87,0x96,0x96,    //2093
1226          0xa4,0xc3,0xa5,0xb4,0xa5,0xa6,0x97,0x87,0x87,0x78,0x87,0x96,    //2094
1227          0xa5,0xc3,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x88,0x78,0x87,0x86,    //2095
1228          0xa5,0xb3,0xb4,0xb4,0xb5,0xb5,0x97,0x97,0x97,0x87,0x96,0x96,    //2096
1229          0xb4,0xc3,0xa5,0xb4,0xa5,0xa5,0x97,0x97,0x87,0x87,0x96,0x96,    //2097
1230          0xa4,0xc3,0xa5,0xb4,0xa5,0xa6,0x97,0x87,0x87,0x78,0x87,0x96,    //2098
1231          0xa5,0xc3,0xa5,0xb5,0xa6,0xa6,0x87,0x88,0x88,0x78,0x87,0x86,    //2099  
1232          };
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 21  

1233          
1234          //延时子程序
1235          void delay_ms(uint xms)
1236          {
1237   1              uint i,j;
1238   1              for(i=xms;i>0;i--)
1239   1              {
1240   2                      for(j=110;j>0;j--);     
1241   2              }
1242   1      }
1243          
1244          //LCD忙检查子程序
1245          void lcd_busy()
1246          {
1247   1              uchar result;
1248   1              LCD_RS=0;
1249   1              LCD_RW=1;
1250   1              do 
1251   1              {
1252   2                      LCD_data=0x00;
1253   2                      LCD_EN=1;
1254   2                      _nop_();
1255   2                      result=LCD_data;
1256   2                      LCD_EN=0;
1257   2                      result=0x80&result; //检查忙信号
1258   2              }while(!(result==0x00)); //当忙信号为0时才可继续操作     
1259   1      }
1260          
1261          //LCD写命令子程序
1262          void lcd_wcmd(uchar cmd)
1263          {                          
1264   1              lcd_busy();
1265   1              LCD_RS=0; //写命令
1266   1              LCD_RW=0;
1267   1              LCD_data=cmd;
1268   1              LCD_EN=1; //利用EN 下降沿完成命令写操作
1269   1              _nop_();
1270   1              _nop_();
1271   1              LCD_EN=0;
1272   1      }
1273          
1274          void SetPage(uchar page)        //设置页码，页码为0~7
1275          {
1276   1              page=0xb8|page;
1277   1              lcd_wcmd(page);
1278   1      }
1279          
1280          void SetStartLine(uchar startline)      //设置起始行，行号为0~63
1281          {
1282   1              startline=0xc0|startline;
1283   1              lcd_wcmd(startline);    
1284   1      }
1285          
1286          void SetColumn(uchar column)   //设置列，列号为0~63
1287          {
1288   1              column=column&0x3f;
1289   1              column=0x40|column;
1290   1              lcd_wcmd(column);
1291   1      }
1292          
1293          void SetOnOff(uchar onoff)        //开关显示屏
1294          {
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 22  

1295   1              onoff=0x3e|onoff;
1296   1              lcd_wcmd(onoff);
1297   1      }
1298          
1299          //LCD写数据子程序
1300          void lcd_wdat(uchar dat)
1301          {                          
1302   1              lcd_busy();
1303   1              LCD_RS=1;
1304   1              LCD_RW=0;
1305   1              LCD_data=dat;
1306   1              LCD_EN=1;
1307   1              _nop_();
1308   1              _nop_();
1309   1              LCD_EN=0;
1310   1      }
1311          
1312          void SelectScreen(uchar screen)    //选屏，screen=0,1,2
1313          {
1314   1              switch(screen)
1315   1              {
1316   2                      case 0: CS1=0;  //全屏显示
1317   2                                      _nop_();
1318   2                                      _nop_();
1319   2                                      _nop_();
1320   2                                      CS2=0;
1321   2                                      _nop_();
1322   2                                      _nop_();
1323   2                                      _nop_();
1324   2                                      break;
1325   2                      case 1: CS1=0;  //左屏显示
1326   2                                      _nop_();
1327   2                                      _nop_();
1328   2                                      _nop_();
1329   2                                      CS2=1;
1330   2                                      _nop_();
1331   2                                      _nop_();
1332   2                                      _nop_();
1333   2                                      break;
1334   2                      case 2: CS1=1;  //右屏显示
1335   2                                      _nop_();
1336   2                                      _nop_();
1337   2                                      _nop_();
1338   2                                      CS2=0;
1339   2                                      _nop_();
1340   2                                      _nop_();
1341   2                                      _nop_();
1342   2                                      break;
1343   2              }       
1344   1      }
1345          
1346          void ClearScreen(uchar screen)  //清屏，screen=0,1,2
1347          {
1348   1              uchar i,j;
1349   1              SelectScreen(screen);
1350   1              for(i=0;i<8;i++)
1351   1              {
1352   2                      SetPage(i);
1353   2                      SetColumn(0);
1354   2                      for(j=0;j<64;j++)
1355   2                      {
1356   3                              lcd_wdat(0x00);
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 23  

1357   3                      }
1358   2              }
1359   1      }
1360          
1361          void lcd_init()
1362          {
1363   1              lcd_busy();      //读忙信号，不忙则向下执行
1364   1              SelectScreen(0);
1365   1              SetOnOff(0);   //关屏
1366   1              SelectScreen(0);
1367   1              SetOnOff(1);   //开屏
1368   1              SelectScreen(0);
1369   1              ClearScreen(0);    //清屏
1370   1              SetStartLine(0);        //开始行为0     
1371   1      }
1372          
1373          void ChineseDisplay(uchar screen,uchar page,uchar column,uchar number)
1374          {
1375   1              int i;
1376   1              SelectScreen(screen);   //screen为显示的屏号
1377   1              column=column&0x3f;             //column为列号
1378   1              SetPage(page);  //page为页号,显示第number个汉字的上半部分，可理解为要显示的汉字位于屏幕的第page行
1379   1              SetColumn(column);
1380   1              for(i=0;i<16;i++)
1381   1              {
1382   2                      lcd_wdat(Chinese[i+32*number]);//number为字号，取第number个汉字的第i列数据编码值
1383   2              }
1384   1              SetPage(page+1);        //显示第number个汉字的下半部分
1385   1              SetColumn(column);
1386   1              for(i=0;i<16;i++)
1387   1              {
1388   2                      lcd_wdat(Chinese[i+32*number+16]);//取第number个汉字的第i列数据编码值
1389   2              }
1390   1      }
1391          
1392          void ChinaSolarDisplay(uchar screen,uchar page,uchar column,uchar number)
1393          {
1394   1              int i;
1395   1              SelectScreen(screen);   //screen为显示的屏号
1396   1              column=column&0x3f;             //column为列号
1397   1              SetPage(page);  //page为页号,显示第number个汉字的上半部分，可理解为要显示的汉字位于屏幕的第page行
1398   1              SetColumn(column);
1399   1              for(i=0;i<16;i++)
1400   1              {
1401   2                      lcd_wdat(SolarTerms[i+32*number]);//number为字号，取第number个汉字的第i列数据编码值
1402   2              }
1403   1              SetPage(page+1);        //显示第number个汉字的下半部分
1404   1              SetColumn(column);
1405   1              for(i=0;i<16;i++)
1406   1              {
1407   2                      lcd_wdat(SolarTerms[i+32*number+16]);//取第number个汉字的第i列数据编码值
1408   2              }
1409   1      }
1410          
1411          void SymbolDisplay(uchar screen,uchar page,uchar column,uchar number)
1412          {
1413   1              int i;
1414   1              SelectScreen(screen);   //screen为显示的屏号
1415   1              column=column&0x3f;             //column为列号
1416   1              SetPage(page);  //page为页号,显示第number个数字
1417   1              SetColumn(column);
1418   1              for(i=0;i<8;i++)
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 24  

1419   1              {
1420   2                      lcd_wdat(Symbol[i+16*number]);//number为字号，取第number个数字的第i列数据编码值
1421   2              }
1422   1              SetPage(page+1);        //显示第number个汉字的下半部分
1423   1              SetColumn(column);
1424   1              for(i=0;i<8;i++)
1425   1              {
1426   2                      lcd_wdat(Symbol[i+16*number+8]);//取第number个数字的第i列数据编码值
1427   2              }       
1428   1      }       
1429          
1430          typedef struct __SYSTEMTIME__
1431          {
1432                  uint Second; 
1433                  uchar Minute;
1434                  uchar Hour; 
1435                  uchar Week; 
1436                  uchar Day; 
1437                  uchar Month; 
1438                  uchar Year; 
1439                  uchar DateBit[6]; 
1440                  uchar TimeBit[6]; 
1441          }SYSTEMTIME; //定义的时间类
1442          SYSTEMTIME datetime;  
1443          SYSTEMTIME xdata CurrentTime;
1444          
1445          uchar year0;
1446          /***************************************************************************
1447          函数名称：DS1302InputByte(uchar d)
1448          函数功能：实时时钟写入一个字节（内部函数）
1449          输入参数：d     要写入的数据
1450          返回值：无
1451          ***************************************************************************/
1452          void DS1302InputByte(uchar d)   
1453          { 
1454   1              uchar i;
1455   1          ACC = d;
1456   1          for(i=8; i>0; i--)
1457   1          {
1458   2              DS1302_IO = ACC0;     //相当于汇编中的 RRC，实现一位一位写入
1459   2              DS1302_CLK = 1;
1460   2              DS1302_CLK = 0;
1461   2              ACC = ACC >> 1; 
1462   2          } 
1463   1      }  
1464           
1465          /***************************************************************************
1466          函数名称：DS1302OutputByte(void)
1467          函数功能：实时时钟读取一个字节（内部函数）
1468          输入参数：无
1469          返回值：ACC      读到的数据
1470          ***************************************************************************/
1471          uchar DS1302OutputByte(void)    
1472          {
1473   1              uchar i; 
1474   1          for(i=8; i>0; i--)
1475   1          {
1476   2              ACC = ACC >>1;        //相当于汇编中的 RRC，实现一位一位读取
1477   2              ACC7 = DS1302_IO;
1478   2              DS1302_CLK = 1;
1479   2              DS1302_CLK = 0;
1480   2          } 
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 25  

1481   1          return(ACC); 
1482   1      }  
1483           
1484          /***************************************************************************
1485          函数名称：Write1302(uchar ucAddr, uchar ucDa)   
1486          函数功能：往实时时钟指定地址写数据
1487          输入参数：ucAddr                要写数据的地址
1488                            ucDa                  要写入的数据
1489          返回值：无
1490          ***************************************************************************/
1491          void Write1302(uchar ucAddr, uchar ucDa)        
1492          {
1493   1          DS1302_RST = 0;
1494   1          DS1302_CLK = 0;
1495   1          DS1302_RST = 1;
1496   1          DS1302InputByte(ucAddr);            // 往实时时钟写入地址，命令
1497   1          DS1302InputByte(ucDa);              // 往实时时钟写1Byte数据
1498   1          DS1302_CLK = 1;             //注意是否需要注释掉这句
1499   1          DS1302_RST = 0;
1500   1      }  
1501           
1502          /***************************************************************************
1503          函数名称：Read1302(uchar ucAddr)        
1504          函数功能：读取ds1302某地址的数据
1505          输入参数：ucAddr                要读数据的地址
1506          返回值：  ucData                读出的数据
1507          ***************************************************************************/
1508          uchar Read1302(uchar ucAddr)    //读取ds1302某地址的数据
1509          {
1510   1          uchar ucData;
1511   1          DS1302_RST = 0;
1512   1          DS1302_CLK = 0;
1513   1          DS1302_RST = 1;
1514   1          DS1302InputByte(ucAddr|0x01);        //BIT0位为0进行写操作，为1表示读操作 
1515   1          ucData = DS1302OutputByte();         // 读1Byte数据
1516   1          DS1302_CLK = 1;
1517   1          DS1302_RST = 0;
1518   1          return(ucData);
1519   1      } 
1520           
1521          /***************************************************************************
1522          函数名称：DS1302_SetProtect(bit flag)        
1523          函数功能：是否写保护      ??????有什么用
1524          输入参数：flag          
1525          返回值：  无 
1526          其他：flag为1时,0x8E对应的control register最高位为1，写保护开启
1527          ***************************************************************************/
1528          void DS1302_SetProtect(bit flag)        //是否写保护
1529          {
1530   1              if(flag)
1531   1                      Write1302(0x8E,0x80);
1532   1              else
1533   1                      Write1302(0x8E,0x00);
1534   1      } 
1535           
1536          /***************************************************************************
1537          函数名称：DS1302_SetTime(uchar Address, uchar Value)        
1538          函数功能：向指定寄存器写时间
1539          输入参数：Address               寄存器地址
1540                            Value                 要写入的时间（hex码）
1541          返回值：  无 
1542          其他：可以先用宏定义定义好year，month，hour等的地址
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 26  

1543          ***************************************************************************/
1544          void DS1302_SetTime(uchar Address, uchar Value)   // 设置时间函数
1545          {
1546   1              DS1302_SetProtect(0);
1547   1              Write1302(Address, ((Value/10)<<4 | (Value%10)));               //将hex码转化为BCD码
1548   1      } 
1549           
1550          /***************************************************************************
1551          函数名称：DS1302_GetTime(SYSTEMTIME *Time)
1552          函数功能：读出日期和时间，将它们存入Time这个结构体中
1553          输入参数：*Time         要存日期和时间的结构体的地址
1554          返回值：  无 
1555          ***************************************************************************/
1556          void DS1302_GetTime(SYSTEMTIME *Time)
1557          {
1558   1              uchar ReadValue;
1559   1              ReadValue = Read1302(DS1302_SECOND);             //为什么是和0x70与，而不是0xf0
1560   1              Time->Second = ((ReadValue&0x70)>>4)*10 + (ReadValue&0x0F);     //八进制转为十进制
1561   1              ReadValue = Read1302(DS1302_MINUTE);
1562   1              Time->Minute = ((ReadValue&0x70)>>4)*10 + (ReadValue&0x0F);
1563   1              ReadValue = Read1302(DS1302_HOUR);
1564   1              Time->Hour = ((ReadValue&0x70)>>4)*10 + (ReadValue&0x0F);
1565   1              ReadValue = Read1302(DS1302_DAY);
1566   1              Time->Day = ((ReadValue&0x70)>>4)*10 + (ReadValue&0x0F);        
1567   1              ReadValue = Read1302(DS1302_WEEK);
1568   1              Time->Week = ((ReadValue&0x70)>>4)*10 + (ReadValue&0x0F);
1569   1              ReadValue = Read1302(DS1302_MONTH);
1570   1              Time->Month = ((ReadValue&0x70)>>4)*10 + (ReadValue&0x0F);
1571   1              ReadValue = Read1302(DS1302_YEAR);
1572   1              Time->Year = ((ReadValue&0x70)>>4)*10 + (ReadValue&0x0F);       
1573   1      } 
1574           
1575          /***************************************************************************
1576          函数名称：DateToBit(SYSTEMTIME *Time)    
1577          函数功能：将读出的日期分别得到各个位上的数字
1578          输入参数：*Time         要存数字的结构体
1579          返回值：无 
1580          ***************************************************************************/
1581          void DateToBit(SYSTEMTIME *Time)         
1582          {
1583   1              Time->DateBit[0] = Time->Year/10 ;       //分别得到各个位上的数字
1584   1              Time->DateBit[1] = Time->Year%10 ;
1585   1              Time->DateBit[2] = Time->Month/10 ;
1586   1              Time->DateBit[3] = Time->Month%10 ;
1587   1              Time->DateBit[4] = Time->Day/10 ;
1588   1              Time->DateBit[5] = Time->Day%10 ;  
1589   1      }  
1590           
1591          /***************************************************************************
1592          函数名称：TimeToBit(SYSTEMTIME *Time)
1593          函数功能：将读出的时间分别得到各个位上的数字
1594          输入参数：*Time         要存字符的结构体
1595          返回值：无 
1596          ***************************************************************************/
1597          void TimeToBit(SYSTEMTIME *Time)
1598          {
1599   1              Time->TimeBit[0] = Time->Hour/10 ;       
1600   1              Time->TimeBit[1] = Time->Hour%10 ;
1601   1              Time->TimeBit[2] = Time->Minute/10 ;
1602   1              Time->TimeBit[3] = Time->Minute%10 ;
1603   1              Time->TimeBit[4] = Time->Second/10 ;
1604   1              Time->TimeBit[5] = Time->Second%10 ;
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 27  

1605   1      }       
1606           
1607          /***************************************************************************
1608          函数名称：Initial_DS1302(void)
1609          函数功能：初始化ds1302
1610          输入参数：无
1611          返回值：无 
1612          ***************************************************************************/
1613          void Initial_DS1302(void)
1614          {
1615   1              uchar Second=Read1302(DS1302_SECOND);
1616   1              if(Second&0x80)           
1617   1                      DS1302_SetTime(DS1302_SECOND,0);
1618   1      }
1619           
1620          // 星期判定，1901.1.1(星期二)为基准，对以后200年内即（1901~2099）,星期有效
1621          uchar SetWeek(uchar year1,uchar month,uchar day)
1622          {
1623   1              uchar code Month[13] = {0,31,28,31,30,31,30,31,31,30,31,30,31};
1624   1              uchar j=0, wk=0;        // j 用于记录从1901年到你设定的那一年（不包括你设定的年）之间有几个闰年，wk 用于
             -娣拍闱蟪龅男瞧诩
1625   1              uint sum=0, i, allyear;   // sum 用于存放从1901年到你设定的那一年一共有多少天，sum最大到65535
1626   1              allyear = year0*100 + year1;       // 这里的year0是你设定年的前两位，TIME6是后两位
1627   1              sum = day;                       
1628   1              for(i=0;i<month;i++)
1629   1              {
1630   2                      sum += Month[i];
1631   2              }
1632   1              if((allyear%4==0)&&(allyear%100!=0)||(allyear%400==0))
1633   1              {
1634   2                      if(month > 2)sum++;
1635   2              }
1636   1              for(i=1901;i<allyear;i++)
1637   1              {
1638   2                      if((i%4==0)&&(i%100!=0)||(i%400==0))j++;  //闰年比平年多一天
1639   2              }
1640   1              if(allyear >1900 && allyear < 2100)      // 确保不超出设定的范围2000~2100                                
             -     
1641   1              {
1642   2                      sum = sum + (allyear-1901)*365 + j + 1;  // 5是由基准星期6->1得到       
1643   2                      wk = sum%7;
1644   2              } 
1645   1              if(wk==0)wk = 7;
1646   1              return wk;        
1647   1      }
1648          
1649          /****************************************************************************
1650          * 用于读取数据表中农历月的大月或小月,如果该月为大返回1,为小返回0
1651          ****************************************************************************/
1652          uchar GetMoonDay( uchar month_p, ushort table_addr )
1653          {
1654   1              switch ( month_p )
1655   1              {
1656   2              case 1:
1657   2                      if ( (year_code[table_addr] & 0x08) == 0 )
1658   2                              return(0);
1659   2                      else return(1);
1660   2              case 2:
1661   2                      if ( (year_code[table_addr] & 0x04) == 0 )
1662   2                              return(0);
1663   2                      else return(1);
1664   2              case 3:
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 28  

1665   2                      if ( (year_code[table_addr] & 0x02) == 0 )
1666   2                              return(0);
1667   2                      else return(1);
1668   2              case 4:
1669   2                      if ( (year_code[table_addr] & 0x01) == 0 )
1670   2                              return(0);
1671   2                      else return(1);
1672   2              case 5:
1673   2                      if ( (year_code[table_addr + 1] & 0x80) == 0 )
1674   2                              return(0);
1675   2                      else return(1);
1676   2              case 6:
1677   2                      if ( (year_code[table_addr + 1] & 0x40) == 0 )
1678   2                              return(0);
1679   2                      else return(1);
1680   2              case 7:
1681   2                      if ( (year_code[table_addr + 1] & 0x20) == 0 )
1682   2                              return(0);
1683   2                      else return(1);
1684   2              case 8:
1685   2                      if ( (year_code[table_addr + 1] & 0x10) == 0 )
1686   2                              return(0);
1687   2                      else return(1);
1688   2              case 9:
1689   2                      if ( (year_code[table_addr + 1] & 0x08) == 0 )
1690   2                              return(0);
1691   2                      else return(1);
1692   2              case 10:
1693   2                      if ( (year_code[table_addr + 1] & 0x04) == 0 )
1694   2                              return(0);
1695   2                      else return(1);
1696   2              case 11:
1697   2                      if ( (year_code[table_addr + 1] & 0x02) == 0 )
1698   2                              return(0);
1699   2                      else return(1);
1700   2              case 12:
1701   2                      if ( (year_code[table_addr + 1] & 0x01) == 0 )
1702   2                              return(0);
1703   2                      else return(1);
1704   2              case 13:
1705   2                      if ( (year_code[table_addr + 2] & 0x80) == 0 )
1706   2                              return(0);
1707   2                      else return(1);
1708   2              }
1709   1              return(0);
1710   1      }
1711          
1712          
1713          /*********************************************************************************************************
1714          ** 函数名称:GetChinaCalendar
1715          ** 功能描述:公农历转换(只允许1901-2099年)
1716          ** 输　入:  year        公历年
1717          **          month       公历月
1718          **          day         公历日
1719          ** 输　出:  1           成功
1720          **          0           失败
1721          ********************************************************************************************************/
1722          uchar NLmonth;    //农历月                   
1723          uchar NLday;            //农历日
1724          uchar IsRunYue;         //存放当前农历月是否为闰月，是则为1，否则为0
1725          uchar GetChinaCalendar(uint year,uchar month,uchar day)
1726          {
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 29  

1727   1              uchar temp1, temp2, temp3, month_p, yearH, yearL,runyue;
1728   1              uchar flag_y;
1729   1              ushort temp4, table_addr;
1730   1      
1731   1              yearH = year / 100; yearL = year % 100;
1732   1              if ( (yearH != 19) && (yearH != 20) )
1733   1                      return(0);
1734   1      
1735   1              /* 定位数据表地址 */
1736   1              if ( yearH == 20 )
1737   1                      table_addr = (yearL + 100 - 1) * 3;
1738   1              else table_addr = (yearL - 1) * 3;
1739   1      
1740   1              /* 取当年春节所在的公历月份 */
1741   1              temp1   = year_code[table_addr + 2] & 0x60;
1742   1              temp1   >>= 5;
1743   1      
1744   1              /* 取当年春节所在的公历日 */
1745   1              temp2 = year_code[table_addr + 2] & 31;
1746   1      
1747   1              /* 计算当年春年离当年元旦的天数,春节只会在公历1月或2月 */
1748   1              if ( temp1 == 1 )
1749   1                      temp3 = temp2 - 1;
1750   1              else temp3 = temp2 + 31 - 1;
1751   1      
1752   1              /* 计算公历日离当年元旦的天数 */
1753   1              if ( month < 10 )
1754   1                      temp4 = day_code1[month - 1] + day - 1;
1755   1              else temp4 = day_code2[month - 10] + day - 1;
1756   1              /* 如果公历月大于2月并且该年的2月为闰月,天数加1 */
1757   1              if ( (month > 2) && (yearL % 4 == 0) )
1758   1                      temp4++;
1759   1      
1760   1              /* 判断公历日在春节前还是春节后 */
1761   1              if ( temp4 >= temp3 )
1762   1              {                                                //当前公历日在春节后
1763   2                      temp4   -= temp3;       //现在temp4存放当前公历日距离当前春节公历日天数
1764   2                      month   = 1;
1765   2                      month_p = 1;
1766   2      
1767   2                      flag_y = 0;
1768   2                      if ( GetMoonDay( month_p, table_addr ) == 0 )
1769   2                              temp1 = 29;     /* 小月29天 */
1770   2                      else temp1 = 30;        /* 大月30天 */
1771   2                      /* 从数据表中取该年的闰月月份,如为0则该年无闰月 */
1772   2                      temp2 = year_code[table_addr] / 16;
1773   2                      if(temp2!=0)runyue=temp2;
1774   2                      while ( temp4 >= temp1 )
1775   2                      {
1776   3                              temp4 -= temp1;
1777   3                              month_p++;
1778   3                              if ( month == temp2 )
1779   3                              {
1780   4                                      flag_y = ~flag_y;
1781   4                                      if ( flag_y == 0 )
1782   4                                              month++;
1783   4                              }else month++;
1784   3                              if ( GetMoonDay( month_p, table_addr ) == 0 )
1785   3                                      temp1 = 29;
1786   3                              else temp1 = 30;
1787   3                      }
1788   2                      day = temp4 + 1;
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 30  

1789   2              }
1790   1              /* 公历日在春节前使用下面代码进行运算 */
1791   1              else{
1792   2                      temp3 -= temp4;
1793   2                      if ( yearL == 0 )
1794   2                      {
1795   3                              yearL   = 100 - 1;
1796   3                              yearH   = 19;
1797   3                      }else yearL--;
1798   2                      table_addr      -= 3;
1799   2                      month           = 12;
1800   2                      temp2           = year_code[table_addr] / 16;
1801   2                      if ( temp2 == 0 )
1802   2                              month_p = 12;
1803   2                      else month_p = 13;
1804   2      
1805   2                      flag_y = 0;
1806   2                      if ( GetMoonDay( month_p, table_addr ) == 0 )
1807   2                              temp1 = 29;
1808   2                      else temp1 = 30;
1809   2                      while ( temp3 > temp1 )
1810   2                      {
1811   3                              temp3 -= temp1;
1812   3                              month_p--;
1813   3                              if ( flag_y == 0 )
1814   3                                      month--;
1815   3                              if ( month == temp2 )
1816   3                                      flag_y = ~flag_y;
1817   3                              if ( GetMoonDay( month_p, table_addr ) == 0 )
1818   3                                      temp1 = 29;
1819   3                              else temp1 = 30;
1820   3                      }
1821   2                      day = temp1 - temp3 + 1;
1822   2              }
1823   1              NLmonth = month;
1824   1              NLday   = day; 
1825   1              if(runyue==NLmonth)IsRunYue=1;
1826   1              else IsRunYue=0;
1827   1              return(1);
1828   1      }
1829          
1830          //判断当前日期是否为二十四节气，是则返回1，否则返回0
1831          uchar SetSolarTerms(uint year,uchar month,uchar day)
1832          {
1833   1              uchar result;     //返回值变量
1834   1              uchar day1;              //读出当前年月对应的节气日期
1835   1              if(day>15)
1836   1              {
1837   2                      day-=15;
1838   2                      day1=ChinaSolarTerms[(year-1901)*12+month-1]&0x0f;
1839   2                      if(day==day1)result=1;   //若当前日期和节气日期相同则说明该天是二十四节气之一
1840   2                      else result=0;
1841   2              }
1842   1              else 
1843   1              {
1844   2                      day=15-day;
1845   2                      day1=ChinaSolarTerms[(year-1901)*12+month-1]&0x0f0;
1846   2                      day1>>=4;
1847   2                      if(day==day1)result=1;
1848   2                      else result=0;
1849   2              }
1850   1              return result;
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 31  

1851   1      }
1852          
1853          void DateTimeDisplay(SYSTEMTIME showtime)
1854          {
1855   1              uchar week,year1,month,day;             //week存储星期几，year1为当前年份后两位，month为当前月份，day为当前日子
1856   1              uchar TianGan,DiZhi;    //TianGan为天干序号，DiZhi为地支序号
1857   1              uint allyear;    //allyear为当前年份
1858   1              uchar result,result0;   //result存放公历转换农历是否成功,result0存放当前日期是否是二十四节气之一
1859   1      
1860   1              SetStartLine(0);        
1861   1              ChineseDisplay(1,0,0,0);
1862   1              ChineseDisplay(1,0,16,1);  //显示 公历 二字
1863   1              SymbolDisplay(1,0,32,10);
1864   1              SymbolDisplay(1,0,40,year0/10);
1865   1              SymbolDisplay(1,0,48,year0%10);
1866   1              SymbolDisplay(1,0,48+8,showtime.DateBit[0]);            //显示日期 格式 年-月-日
1867   1              SymbolDisplay(2,0,48+8*2,showtime.DateBit[1]);
1868   1              SymbolDisplay(2,0,48+8*3,11);
1869   1              SymbolDisplay(2,0,48+8*4,showtime.DateBit[2]);
1870   1              SymbolDisplay(2,0,48+8*5,showtime.DateBit[3]);
1871   1              SymbolDisplay(2,0,48+8*6,11);
1872   1              SymbolDisplay(2,0,48+8*7,showtime.DateBit[4]);
1873   1              SymbolDisplay(2,0,48+8*8,showtime.DateBit[5]);
1874   1               
1875   1              year1=showtime.DateBit[0]*10+showtime.DateBit[1];
1876   1              month=showtime.DateBit[2]*10+showtime.DateBit[3];
1877   1              day=showtime.DateBit[4]*10+showtime.DateBit[5];
1878   1              week=SetWeek(year1,month,day);    //获得星期几
1879   1              ChineseDisplay(1,2,0,2);           //显示星期，格式 星期几
1880   1              ChineseDisplay(1,2,16,3);
1881   1              ChineseDisplay(1,2,32,week+3);
1882   1      
1883   1              SymbolDisplay(2,2,64,showtime.TimeBit[0]);              //显示时间，格式 时:分:秒
1884   1              SymbolDisplay(2,2,64+8,showtime.TimeBit[1]);
1885   1              SymbolDisplay(2,2,64+8*2,10);
1886   1              SymbolDisplay(2,2,64+8*3,showtime.TimeBit[2]);
1887   1              SymbolDisplay(2,2,64+8*4,showtime.TimeBit[3]);
1888   1              SymbolDisplay(2,2,64+8*5,10);
1889   1              SymbolDisplay(2,2,64+8*6,datetime.TimeBit[4]);
1890   1              SymbolDisplay(2,2,64+8*7,datetime.TimeBit[5]);
1891   1      
1892   1              allyear=year0*100+year1;          //公历年转换为农历天干地支年
1893   1              TianGan=(allyear-3)%10;
1894   1              DiZhi=(allyear-3)%12;
1895   1              if(TianGan==0)TianGan=10;
1896   1              if(DiZhi==0)DiZhi=12;
1897   1              ChineseDisplay(1,4,0,10+TianGan);
1898   1              ChineseDisplay(1,4,16,20+DiZhi);
1899   1              ChineseDisplay(1,4,32,33);
1900   1      
1901   1              result=GetChinaCalendar(allyear,month,day);     //公历日期转换为农历日期
1902   1              if(result==1)
1903   1              {
1904   2                      if(IsRunYue==1)                  //判断当前月是否为农历闰月，是则显示 闰
1905   2                      {
1906   3                              ChineseDisplay(1,4,48,35);
1907   3                      }
1908   2                      if(NLmonth==1)ChineseDisplay(2,4,64,36); //判断当前月是否为农历正月，是则显示 正
1909   2                      else
1910   2                      {
1911   3                              ChineseDisplay(2,4,64,NLmonth+38);      //不是则显示 二或者三直到冬、腊
1912   3                      }
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 32  

1913   2                      ChineseDisplay(2,4,80,34);       //显示 月
1914   2                      if(NLday/10==0)                          //判断是否为 初一到初九，是则显示 初几
1915   2                      {
1916   3                              ChineseDisplay(2,4,96,37);
1917   3                              ChineseDisplay(2,4,112,NLday+38);
1918   3                      }
1919   2                      else if(NLday/10==1)
1920   2                      {
1921   3                              if(NLday%10==0)         //判断是否为初十，是则显示 初十
1922   3                              {
1923   4                                      ChineseDisplay(2,4,96,37);
1924   4                                      ChineseDisplay(2,4,112,38+10);
1925   4                              }
1926   3                              else
1927   3                              {
1928   4                                      ChineseDisplay(2,4,96,38+10);     //不是则显示 十几
1929   4                                      ChineseDisplay(2,4,112,NLday%10+38);    
1930   4                              }
1931   3                       
1932   3                      }
1933   2                      else if(NLday/10==2)             //判断是否为二十到廿九
1934   2                      {
1935   3                              if(NLday%10==0) //判断是否为二十，是则显示 二十
1936   3                              {
1937   4                                      ChineseDisplay(2,4,96,40);
1938   4                                      ChineseDisplay(2,4,96,38+10);           
1939   4                              }
1940   3                              else                                            //不是则显示 廿几
1941   3                              {
1942   4                                      ChineseDisplay(2,4,96,38);
1943   4                                      ChineseDisplay(2,4,112,NLday%10+38);
1944   4                              }       
1945   3                      }
1946   2                      else              //判断是否为三十时    是则显示  三十
1947   2                      {
1948   3                              ChineseDisplay(2,4,96,NLday/10+38);
1949   3                              ChineseDisplay(2,4,112,38+10);
1950   3                      }
1951   2              }
1952   1              result0=SetSolarTerms(allyear,month,day);
1953   1              if(result0==1)                   //判断当前日期是否为二十四节气之一，是则显示对应节气，否则不显示
1954   1              {
1955   2                      if(day>15)
1956   2                      {
1957   3                              ChinaSolarDisplay(1,6,0,(month-1)*4+2);
1958   3                              ChinaSolarDisplay(1,6,16,(month-1)*4+3);        
1959   3                      }
1960   2                      else
1961   2                      {
1962   3                              ChinaSolarDisplay(1,6,0,(month-1)*4);
1963   3                              ChinaSolarDisplay(1,6,16,(month-1)*4+1);
1964   3                      }                       
1965   2              }
1966   1              //delay_ms(50); 
1967   1                                      
1968   1      }
1969          
1970          uchar flag,temp,i=0,keycount=0;
1971          uchar keynums[14];
1972          uchar j,keynum,hour,minute,second,Clockyear,Clockmonth,Clockday;
1973          void keyscanProcess() 
1974          {
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 33  

1975   1              uchar ;
1976   1              P2=0xfe;                 //第0行置0，其余行置1，列全置1
1977   1              if(P2!=0xfe)    //扫描第0行
1978   1              {
1979   2                      delay_ms(20);  //延时20ms去抖动
1980   2                      if(P2!=0xfe) 
1981   2                      {
1982   3                              temp=P2&0xf0; //保留有效位
1983   3                              keycount++;
1984   3                              switch(temp) 
1985   3                              {
1986   4                                      case 0xe0:keynum=0; break;       //说明按下的按键在第0行第0列，键号为0
1987   4                                      case 0xd0:keynum=1; break;  //说明按下的按键在第0行第1列，键号为1               
1988   4                                      case 0xb0:keynum=2; break;       //说明按下的按键在第0行第2列，键号为2                  
1989   4                                      case 0x70:keynum=3; break;  //说明按下的按键在第0行第3列，键号为3
1990   4                              }
1991   3                      }
1992   2                      while(P2!=0xfe);   //等待按键释放
1993   2                      if(keynum==0||keynum==1||keynum==2||keynum==3) 
1994   2                      {
1995   3                              keynums[i]=keynum;
1996   3                              i++;
1997   3                      }
1998   2              }
1999   1              P2=0xfd;          //第1行置0，其余行置1，列全置1,
2000   1              if(P2!=0xfd)  //扫描第1行
2001   1              {
2002   2                      delay_ms(20);  //延时20ms去抖动
2003   2                      if(P2!=0xfd) 
2004   2                      {
2005   3                              temp=P2&0xf0; 
2006   3                              keycount++;
2007   3                              switch(temp) 
2008   3                              {
2009   4                                      case 0xe0:keynum=4; break;       //按下的按键在第1行第0列，键号为4
2010   4                                      case 0xd0:keynum=5; break;       //按下的按键在第1行第1列，键号为5
2011   4                                      case 0xb0:keynum=6; break;       //按下的按键在第1行第2列，键号为6                      
2012   4                                      case 0x70:keynum=7; break;  //按下的按键在第1行第3列，键号为7
2013   4                              } 
2014   3                      }
2015   2                      while(P2!=0xfd);  //等待按键释放
2016   2                      if(keynum==4||keynum==5||keynum==6||keynum==7) 
2017   2                      {
2018   3                              keynums[i]=keynum;
2019   3                              i++;    
2020   3                      }
2021   2              }
2022   1              P2=0xfb;          //第2行置0，其余行置1，列全置1
2023   1              if(P2!=0xfb)    //扫描第2行
2024   1              {
2025   2                      delay_ms(20);   //延时20ms去抖动 
2026   2                      if(P2!=0xfb) 
2027   2                      {
2028   3                              temp=P2&0xf0; 
2029   3                              switch(temp) 
2030   3                              {
2031   4                                      case 0xe0:keynum=8; break;       //按下的按键在第2行第0列，键号为8
2032   4                                      case 0xd0:keynum=9; break;       //按下的按键在第2行第1列，键号为9
2033   4                                      case 0xb0:keynum=10; break;   //按下的按键在第2行第2列，键号为10                                
2034   4                                      case 0x70:keynum=11; break;   //按下的按键在第2行第3列，键号为11
2035   4                              }
2036   3                      }
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 34  

2037   2                      while(P2!=0xfb);   //等待按键释放
2038   2                      if(keynum==8||keynum==9)         //键号为8或者9
2039   2                      {
2040   3                              keycount++;
2041   3                              keynums[i]=keynum;
2042   3                              i++;    
2043   3                      }
2044   2                      /*if(keynum==10)                //键号为10表示 
2045   2                      {
2046   2                              if(i==0)i++;
2047   2                              i--;
2048   2                      } */
2049   2                      if(keynum==11)          //键号为11
2050   2                      {
2051   3                              if(keycount<=8)SymbolDisplay(2,2,64+(keycount-1)*8,12);  //清除输错位置
2052   3                              else SymbolDisplay(2,4,64+(keycount-9)*8,12);
2053   3                              keycount--;
2054   3                              i--;
2055   3                      } 
2056   2              }
2057   1              P2=0xf7;          //第3行置0，其余行置1，列全置1
2058   1              if(P2!=0xf7)   //扫描第三行
2059   1              {
2060   2                      delay_ms(20);   //延时20ms去抖动 
2061   2                      if(P2!=0xf7) 
2062   2                      {       
2063   3                              temp=P2&0xf0; 
2064   3                              switch(temp) 
2065   3                              {
2066   4                                      case 0xe0:keynum=12; break;     //按下的按键在第3行第0列，键号为12                              
2067   4                                      case 0xd0:keynum=13; break;     //按下的按键在第3行第1列，键号为13                      
2068   4                                      case 0xb0:keynum=14; break;     //按下的按键在第3行第2列，键号为14                      
2069   4                                      case 0x70:keynum=15; break; //按下的按键在第3行第3列，键号为15
2070   4                              } 
2071   3                      }  
2072   2                      while(P2!=0xf7);  //等待按键释放
2073   2                      switch(keynum) 
2074   2                      {
2075   3                              case 12:         //键号为12
2076   3                                      ClearScreen(0);
2077   3                                      ChineseDisplay(1,0,32,55);   //显示 时间设置 
2078   3                                      ChineseDisplay(1,0,48,56);
2079   3                                      ChineseDisplay(2,0,64,57);
2080   3                                      ChineseDisplay(2,0,80,58);
2081   3                                      ChineseDisplay(1,2,0,51);       //显示 输入日期
2082   3                                      ChineseDisplay(1,2,16,52);
2083   3                                      ChineseDisplay(1,2,32,53);
2084   3                                      ChineseDisplay(1,2,48,54);
2085   3                                      ChineseDisplay(1,4,0,51);       //显示 输入时间
2086   3                                      ChineseDisplay(1,4,16,52);
2087   3                                      ChineseDisplay(1,4,32,55);
2088   3                                      ChineseDisplay(1,4,48,56); 
2089   3                                      break;
2090   3                              case 13:
2091   3                                      ClearScreen(0);
2092   3                                      ChineseDisplay(1,0,32,59);   //显示 闹钟设置 
2093   3                                      ChineseDisplay(1,0,48,60);
2094   3                                      ChineseDisplay(2,0,64,57);
2095   3                                      ChineseDisplay(2,0,80,58);
2096   3                                      ChineseDisplay(1,2,0,51);       //显示 输入日期
2097   3                                      ChineseDisplay(1,2,16,52);
2098   3                                      ChineseDisplay(1,2,32,53);
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 35  

2099   3                                      ChineseDisplay(1,2,48,54);
2100   3                                      ChineseDisplay(1,4,0,51);       //显示 输入时间
2101   3                                      ChineseDisplay(1,4,16,52);
2102   3                                      ChineseDisplay(1,4,32,55);
2103   3                                      ChineseDisplay(1,4,48,56); 
2104   3                                      break;
2105   3                              case 15: //键号为15表示设置完成
2106   3                                      if(keycount==14)
2107   3                                      {
2108   4                                              ClearScreen(0);
2109   4                                              year0=keynums[0]*10+keynums[1];
2110   4                                              Clockyear=keynums[2]*10+keynums[3];
2111   4                                              Clockmonth=keynums[4]*10+keynums[5];
2112   4                                              Clockday=keynums[6]*10+keynums[7];
2113   4                                              hour=keynums[8]*10+keynums[9];
2114   4                                              minute=keynums[10]*10+keynums[11];
2115   4                                              second=keynums[12]*10+keynums[13];
2116   4                                              
2117   4                                              flag=1;
2118   4                                              for(i=0;i<14;i++)keynums[i]=0;
2119   4                                              i=0;
2120   4                                              keycount=0;     
2121   4                                      }
2122   3                                      break;
2123   3                      } 
2124   2              }
2125   1              if(keycount<=8)
2126   1              {
2127   2                      for(j=0;j<keycount;j++)
2128   2                      SymbolDisplay(2,2,64+j*8,keynums[j]);   
2129   2              }
2130   1              else
2131   1              {
2132   2                      for(j=0;j<keycount-8;j++)
2133   2                      SymbolDisplay(2,4,64+j*8,keynums[j+8]);
2134   2              }
2135   1      }
2136          
2137          //扫描按键子程序
2138          uchar keyscan()
2139          {
2140   1              uchar keytemp,key,num,k;//定义无符号字符型变量
2141   1                                                //行值后四位显示，列值前四位显示，根据线反转法得到按键所在行和列
2142   1              P2=0xf0;                  //P3.0-P3.3置0，P3.4-P3.7置1，即行置为0，列置为1，确定按键所在列
2143   1              if(P2!=0XF0)
2144   1              {
2145   2                      delay_ms(10);     //调用短延时子程序去抖动
2146   2                      P2=0xf0;          //重新行置0，列置1
2147   2                      if(P2!=0XF0)
2148   2                      {
2149   3                              keytemp=P2;     
2150   3                              P2=0x0f;        //P3.0-P3.3置1，P3.4-P3.7置0，即行置为1，列置为0，确定按键所在行
2151   3                              key=keytemp|P2; //按键所在行和列的位置为0，其余位置为1
2152   3                              key=0xff-key;  //按位取反，则按键所在行和列的位置为1，其余位置为0
2153   3                              for(k=0;k<16;k++)
2154   3                              {
2155   4                                      if(key==KEY_TABLE[k])//查按键所在行、列
2156   4                                      {
2157   5                                              num=k;           //保存按键键号
2158   5                                              break;           //跳出循环
2159   5                                      }
2160   4                              }
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 36  

2161   3                              return num;
2162   3                      }       
2163   2              }
2164   1              return -1;      
2165   1      }
2166          
2167          //闹钟音乐播放子程序
2168          void MusicPlay()
2169          {
2170   1              uint i=0,j,k;
2171   1              while(SONG_LONG[i]!=0||SONG_TONE[i]!=0)
2172   1              {
2173   2                      for(j=0;j<SONG_LONG[i]*20;j++)
2174   2                      {
2175   3                              Beep=~Beep;
2176   3                              for(k=0;k<SONG_TONE[i]/3;k++);
2177   3                      }
2178   2                      DS1302_GetTime(&datetime);      //获得当前日期和时间
2179   2                      DateToBit(&datetime);   //获得当前年月日各个位上的数字
2180   2                      TimeToBit(&datetime);   //获得当前时分秒各个位上的数字
2181   2                      DateTimeDisplay(datetime);
2182   2                      delay_ms(10);
2183   2                      i++;
2184   2              }
2185   1      }
2186          
2187          void DHT11_Delay1()       //DHT11 10us延时子程序
2188          {
2189   1              uchar i,j;
2190   1              for(j=6;i>0;j--)
2191   1              i--;
2192   1      }
2193          void DHT11_Delay2(uchar ms)     //DHT11 ms延时子程序
2194          {
2195   1              uchar i;
2196   1              while(ms--)
2197   1              for(i=0;i<250;i++);
2198   1      }
2199          void DHT11_start()        //
2200          {
2201   1         DHT11_IO=1;
2202   1         DHT11_Delay1();
2203   1         DHT11_IO=0;
2204   1         DHT11_Delay2(20);   //延时18ms以上
2205   1         DHT11_IO=1;
2206   1         DHT11_Delay1();
2207   1         DHT11_Delay1();
2208   1         DHT11_Delay1();
2209   1         DHT11_Delay1();
2210   1         DHT11_Delay1();
2211   1      }
2212          
2213          uchar DHT11_rec_byte()      //接收一个字节子程序
2214          {
2215   1              uchar i,temp,dat;
2216   1              for(i=0;i<8;i++)    //从高到低依次接收8位数据
2217   1              {          
2218   2                      while(!DHT11_IO);   ////等待50us低电平过去
2219   2                      temp=0;
2220   2                      DHT11_Delay1();     //延时40us，如果还为高则数据为1，否则为0 
2221   2                      DHT11_Delay1(); 
2222   2                      DHT11_Delay1(); 
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 37  

2223   2                      DHT11_Delay1(); 
2224   2                      if(DHT11_IO==1)temp=1;    //数据为1时，使dat加1来接收数据1
2225   2                      while(DHT11_IO);  //等待数据线拉低    
2226   2                      dat<<=1;           //移位使正确接收8位数据，数据为0时直接移位
2227   2                      dat|=temp;   
2228   2              }  
2229   1              return dat;
2230   1      }
2231          
2232          void DHT11_ReceiveDisplay()      //接收40位的数据
2233          {
2234   1          uchar i,R_H,R_L,T_H,T_L,RH,RL,TH,TL,revise; 
2235   1          DHT11_start();
2236   1          if(DHT11_IO==0)
2237   1          {
2238   2              while(!DHT11_IO);   //等待拉高     
2239   2                      for(i=0;i<8;i++)
2240   2                      DHT11_Delay1();  
2241   2              R_H=DHT11_rec_byte();    //接收湿度高八位  
2242   2              R_L=DHT11_rec_byte();    //接收湿度低八位  
2243   2              T_H=DHT11_rec_byte();    //接收温度高八位  
2244   2              T_L=DHT11_rec_byte();    //接收温度低八位
2245   2              revise=DHT11_rec_byte(); //接收校正位
2246   2              DHT11_IO=0;
2247   2                      DHT11_Delay1();    //结束
2248   2                      DHT11_IO=1;
2249   2              if((R_H+R_L+T_H+T_L)==revise)      //校正
2250   2              {
2251   3                  RH=R_H;
2252   3                  RL=R_L;
2253   3                  TH=T_H;
2254   3                  TL=T_L;
2255   3              } 
2256   2          }
2257   1              //数据处理并显示
2258   1              SymbolDisplay(2,6,64,RH/10);
2259   1              SymbolDisplay(2,6,64+8,RH%10);
2260   1              SymbolDisplay(2,6,64+8*2,19);
2261   1              SymbolDisplay(2,6,64+8*3,16);
2262   1              SymbolDisplay(2,6,64+8*4,17);   
2263   1              SymbolDisplay(2,6,64+8*5,TH/10);
2264   1              SymbolDisplay(2,6,64+8*6,TH%10);
2265   1              SymbolDisplay(2,6,64+8*7,18);
2266   1      }  
2267          
2268          //主程序
2269          void main()
2270          {
2271   1              uchar breakflag,num,hour1,hour2;
2272   1              Initial_DS1302();       //ds1302初始化          
2273   1              lcd_init();        //lcd12864初始化
2274   1              BUZZER_LED=1;   //蜂鸣器和LED报警电路初始化
2275   1              Beep=0;         //闹钟播放器初始化
2276   1              //InitUART();
2277   1              ClearScreen(0);
2278   1              year0=20;
2279   1              while(1)
2280   1              {
2281   2                      while(1)
2282   2                      {
2283   3                              DS1302_GetTime(&datetime);
2284   3                              DateToBit(&datetime);   //获得当前年月日各个位上的数字
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 38  

2285   3                              TimeToBit(&datetime);   //获得当前时分秒各个位上的数字
2286   3                              DateTimeDisplay(datetime);
2287   3                              DHT11_ReceiveDisplay();
2288   3                              num=keyscan();
2289   3                              if(num!=-1)break;       
2290   3                      }       
2291   2                      if(num==12)      //当按下时间设置时
2292   2                      {
2293   3                              while(1)
2294   3                              {
2295   4                                      keyscanProcess();
2296   4                                      if(flag==1)
2297   4                                      {       
2298   5                                              DS1302_SetTime(DS1302_SECOND,second);
2299   5                                              DS1302_SetTime(DS1302_MINUTE,minute);
2300   5                                              DS1302_SetTime(DS1302_HOUR,hour);
2301   5                                              DS1302_SetTime(DS1302_DAY,Clockday);
2302   5                                              DS1302_SetTime(DS1302_MONTH,Clockmonth);
2303   5                                              DS1302_SetTime(DS1302_YEAR,Clockyear);  
2304   5                                              while(1)
2305   5                                              {
2306   6                                                      DS1302_GetTime(&datetime);      //获得当前日期和时间
2307   6                                                      DateToBit(&datetime);   //获得当前年月日各个位上的数字
2308   6                                                      TimeToBit(&datetime);   //获得当前时分秒各个位上的数字
2309   6                                                      DateTimeDisplay(datetime);              
2310   6                                                      if(keyscan()==10)
2311   6                                                      {
2312   7                                                              breakflag=1;
2313   7                                                              break;
2314   7                                                      }               //退出当前模式
2315   6                                              }
2316   5                                              flag=0;
2317   5                                      }
2318   4                                      if(breakflag==1)
2319   4                                      {       
2320   5                                              breakflag=0;
2321   5                                              break;
2322   5                                      }               //退出当前模式  
2323   4                              }               
2324   3                      }  
2325   2                      else if(num==14)  //AM,PM设置
2326   2                      {       
2327   3                              if(datetime.TimeBit[0]*10+datetime.TimeBit[1]>=13)      
2328   3                              {
2329   4                                      hour1=datetime.TimeBit[0];
2330   4                                      hour2=datetime.TimeBit[1];
2331   4                                      datetime.TimeBit[0]-=1;
2332   4                                      datetime.TimeBit[1]-=2;
2333   4                                      SymbolDisplay(1,2,48,14);
2334   4                                      SymbolDisplay(1,2,56,15);
2335   4                              }
2336   3                              else
2337   3                              {
2338   4                                      hour1=datetime.TimeBit[0];
2339   4                                      hour2=datetime.TimeBit[1];
2340   4                                      SymbolDisplay(1,2,48,13);
2341   4                                      SymbolDisplay(1,2,56,15);       
2342   4                              } 
2343   3                              hour=datetime.TimeBit[0]*10+datetime.TimeBit[1];
2344   3                              DS1302_SetTime(DS1302_HOUR,hour);
2345   3                              while(1)
2346   3                              {
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 39  

2347   4                                      DateTimeDisplay(datetime);
2348   4                                      if(keyscan()==10)
2349   4                                      {
2350   5                                              DS1302_SetTime(DS1302_HOUR,hour1*10+hour2);
2351   5                                              SymbolDisplay(1,2,48,12);
2352   5                                              SymbolDisplay(1,2,56,12);       
2353   5                                              break;
2354   5                                      }               //退出当前模式
2355   4                              }
2356   3                      }  
2357   2                      else if(num==13)         //闹钟设置
2358   2                      {
2359   3                              while(1)
2360   3                              {
2361   4                                      keyscanProcess();
2362   4                                      if(flag==1)
2363   4                                      {               
2364   5                                              while(1)
2365   5                                              {
2366   6                                                      DS1302_GetTime(&datetime);      //获得当前日期和时间
2367   6                                                      DateToBit(&datetime);   //获得当前年月日各个位上的数字
2368   6                                                      TimeToBit(&datetime);   //获得当前时分秒各个位上的数字
2369   6                                                      DateTimeDisplay(datetime);
2370   6                                                      SymbolDisplay(2,6,64,hour/10);
2371   6                                                      SymbolDisplay(2,6,72,hour%10);
2372   6                                                      SymbolDisplay(2,6,80,10);
2373   6                                                      SymbolDisplay(2,6,88,minute/10);
2374   6                                                      SymbolDisplay(2,6,96,minute%10);
2375   6                                                      SymbolDisplay(2,6,104,10);
2376   6                                                      SymbolDisplay(2,6,112,second/10);
2377   6                                                      SymbolDisplay(2,6,120,second%10);               
2378   6                                                      if(Clockyear==datetime.Year&&Clockmonth==datetime.Month
2379   6                                                       &&Clockday==datetime.Day&&hour==datetime.Hour
2380   6                                                       &&minute==datetime.Minute&&second==datetime.Second)
2381   6                                                      {
2382   7                                                              breakflag=1;
2383   7                                                              break;
2384   7                                                      }               //退出当前模式
2385   6                                                      breakflag=0;
2386   6                                              }
2387   5                                              flag=0;
2388   5                                      }
2389   4                                      if(breakflag==1)
2390   4                                      {       
2391   5                                              BUZZER_LED=0;
2392   5                                              MusicPlay();
2393   5                                              delay_ms(500);
2394   5                                              BUZZER_LED=1;
2395   5                                              for(breakflag=0;breakflag<8;breakflag++)
2396   5                                              SymbolDisplay(2,6,64+breakflag*8,12);
2397   5                                              breakflag=0;
2398   5                                              break;
2399   5                                      }               //退出当前模式
2400   4                              }               
2401   3                      }       
2402   2              }
2403   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   4768    ----
   CONSTANT SIZE    =   7765    ----
C51 COMPILER V9.01   NONGLI                                                                07/01/2020 21:56:53 PAGE 40  

   XDATA SIZE       =     20    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     50      78
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----       1
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
